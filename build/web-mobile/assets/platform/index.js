window.__require=function t(e,o,r){function i(c,a){if(!o[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(n)return n(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var p=o[c]={exports:{}};e[c][0].call(p.exports,function(t){return i(e[c][1][t]||t)},p,p.exports,t,e,o,r)}return o[c].exports}for(var n="function"==typeof __require&&__require,c=0;c<r.length;c++)i(r[c]);return i}({assemble:[function(t,e,o){"use strict";cc._RF.push(e,"c8aa3vcQrZEo4Zj7R4mE6vS","assemble");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),i=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,c=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(n<3?i(c):n>3?i(e,o,c):i(e,o))||c);return n>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var n,c=t("../../common/scripts/balloon"),a=t("../../common/scripts/lib/config"),s=t("../../common/scripts/util"),l=t("../../common/scripts/util-logger"),p=t("./platformer"),d=t("./reward"),u=t("./rewardsMonitor"),h=t("../../common/scripts/lib/constants"),f=cc._decorator,y=f.ccclass,_=f.property,m=["map1","map2","map3","map4","map5"],g=["map0"];(function(t){t[t.Collecting=0]="Collecting",t[t.Finished=1]="Finished",t[t.TimedOut=2]="TimedOut",t[t.Idle=3]="Idle"})(n||(n={}));var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.map0=null,e.map1=null,e.map2=null,e.map3=null,e.map4=null,e.map5=null,e.bgMusic=null,e.filler=null,e.player=null,e.startAudio=null,e.balloon=null,e.reward=null,e.displayCollectReward=null,e.displayCollectLabel=null,e.displayImage=null,e.x=0,e.gameIndex=0,e.cameraNode=null,e.rewardStatus=n.Idle,e.numScreens=1,e.stopScrollX=10*cc.winSize.width,e.balloonMode=!1,e.rewardsMonitor=null,e.randomFruitNumber=-1,e._pickLetters=[],e._showLetters=[],e._alphabetCollectMode=!1,e}return r(e,t),e.prototype.onLoad=function(){a.default.getInstance();this.configureRewards(),cc.director.getPhysicsManager().enabled=!0,this.player.zIndex=1,this.player.x=cc.winSize.width/2,this.player.y=cc.winSize.height/2,this.world=this.node.getChildByName("world"),this.world.x=-cc.winSize.width/2,this.world.y=-cc.winSize.height/2,this.cameraNode=this.node.getChildByName("Main Camera"),this.platformFlowPlay()},e.prototype.createRewardMonitor=function(){var t=this;this.rewardsMonitor=cc.find("RewardsMonitor");var e=this.rewardsMonitor.getComponent(u.default);if(null!==this.rewardsMonitor)if(this.rewardsMonitor.on(u.ALL_REWARDS_COLLECTED,function(){t.rewardStatus==n.Collecting&&(cc.log("ALL_REWARDS_COLLECTED"),t.rewardStatus=n.Finished,t.afterRewardsCollected())}),this._alphabetCollectMode)e.alphabetCollectMode=!0,e.alphabetToCollect=this.pickLetters[0];else{e.alphabetCollectMode=!1,this.randomFruitNumber=s.Util.randomBetween(1,10);var o=cc.instantiate(this.reward);if(o){var r=o.getComponent(d.Reward);e.shadowImage=r["r"+this.randomFruitNumber],this.displayImage=r["r"+this.randomFruitNumber]}}},e.prototype.platformFlowPlay=function(){var t=this;if(this.createRewardMonitor(),this.rewardsMonitor.active=!0,s.Util.playSfx(this.bgMusic,!0,!0),this.addPath(!0,1),this._alphabetCollectMode){var e=cc.instantiate(this.displayCollectLabel);if(e)e.getChildByName("rewardCollect").getComponent(cc.Label).string=this.pickLetters[0],e.opacity=255,e.scale=1,e.setPosition(cc.winSize.width/2,cc.winSize.height/2),cc.director.getScene().addChild(e),this.scheduleOnce(function(){e.opacity=0,e.removeFromParent(!1)},2)}else{var o=cc.instantiate(this.displayCollectReward);if(o){var r=o.getChildByName("rewardCollect"),i=r.getComponent(cc.Sprite);r.scale=2,i.spriteFrame=this.displayImage,o.opacity=255,o.scale=1,o.setPosition(cc.winSize.width/2,cc.winSize.height/2),cc.director.getScene().addChild(o),this.scheduleOnce(function(){var t=o.getComponent(cc.Animation);t.play("displaycollectreward"),t.on("finished",function(){o.opacity=0,o.removeFromParent(!1)})},1)}}this.scheduleOnce(function(){if(t.rewardStatus==n.Collecting){t.rewardStatus=n.TimedOut;var e=a.default.getInstance(),o=Object.assign({});o[""+h.LOG_TYPE]=h.FAIL_TO_COLLECT_ALL_REWARDS,o[""+h.COURSE]=e.courseId,l.default.logEvent(o),t.afterRewardsCollected()}},30)},e.prototype.configureRewards=function(){},e.prototype.addPlatform=function(t,e){for(var o=t?g:m,r=0;r<e;r++){var i=cc.instantiate(this[o[Math.floor(Math.random()*o.length)]]);i.setPosition(this.x,0),this.world.addChild(i),this.x+=i.width}},e.prototype.afterRewardsCollected=function(){cc.audioEngine.stopMusic(),s.Util.playSfx(this.startAudio);var t=a.default.getInstance();this.addBridge(),this.player.active=!1,this.node.off(s.TouchEvents.TOUCH_START),this.node.off(s.TouchEvents.TOUCH_END);var e=cc.instantiate(this.balloon),o=e.getComponent(c.default);null!=o&&(o.label.string=s.Util.i18NText("Game Over"),o.onClickCallback=function(){t.popScene()}),e.x=cc.winSize.width/2,e.y=cc.winSize.height,cc.director.getScene().addChild(e),e.zIndex=5,(new cc.Tween).target(e).to(1,{y:50},null).delay(2).call(function(){o.onBalloonClick()}).start()},e.prototype.addPath=function(t,e){this.addPlatform(t,e),this.stopScrollX=this.x},e.prototype.addBridge=function(){for(this.bridgeNode=new cc.Node,this.bridgeNode.setPosition(this.x,0),this.bridgeNode.setAnchorPoint(0,0);this.bridgeNode.width<cc.winSize.width;){var t=cc.instantiate(this.filler);t.setPosition(this.bridgeNode.width,-192),this.bridgeNode.addChild(t),this.bridgeNode.width+=t.width}this.x+=this.bridgeNode.width,this.world.addChild(this.bridgeNode)},e.prototype.onDestroy=function(){cc.audioEngine.stopMusic()},e.prototype.lateUpdate=function(){if(this.rewardStatus==n.Collecting&&this.world.x>-this.stopScrollX-1*cc.winSize.width/4){var t=this.world.x;this.world.x=-this.player.x-1*cc.winSize.width/4,this.node.getComponent(p.Platformer).scrollLayersInParallax(this.world.x-t),-this.world.x/1024>this.numScreens&&(this.numScreens++,this.addPath(!1,1))}},Object.defineProperty(e.prototype,"pickLetters",{get:function(){return this._pickLetters},set:function(t){this._pickLetters=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showLetters",{get:function(){return this._showLetters},set:function(t){this._showLetters=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alphabetCollectMode",{get:function(){return this._alphabetCollectMode},enumerable:!1,configurable:!0}),i([_(cc.Prefab)],e.prototype,"map0",void 0),i([_(cc.Prefab)],e.prototype,"map1",void 0),i([_(cc.Prefab)],e.prototype,"map2",void 0),i([_(cc.Prefab)],e.prototype,"map3",void 0),i([_(cc.Prefab)],e.prototype,"map4",void 0),i([_(cc.Prefab)],e.prototype,"map5",void 0),i([_(cc.AudioClip)],e.prototype,"bgMusic",void 0),i([_(cc.Prefab)],e.prototype,"filler",void 0),i([_(cc.Node)],e.prototype,"player",void 0),i([_(cc.AudioClip)],e.prototype,"startAudio",void 0),i([_(cc.Prefab)],e.prototype,"balloon",void 0),i([_(cc.Prefab)],e.prototype,"reward",void 0),i([_(cc.Prefab)],e.prototype,"displayCollectReward",void 0),i([_(cc.Prefab)],e.prototype,"displayCollectLabel",void 0),e=i([y],e)}(cc.Component);o.default=v,cc._RF.pop()},{"../../common/scripts/balloon":void 0,"../../common/scripts/lib/config":void 0,"../../common/scripts/lib/constants":void 0,"../../common/scripts/util":void 0,"../../common/scripts/util-logger":void 0,"./platformer":"platformer","./reward":"reward","./rewardsMonitor":"rewardsMonitor"}],"base-level":[function(t,e,o){"use strict";cc._RF.push(e,"a5c0bSQue5Nv6CbWCa6TsDI","base-level");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),i=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,c=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(n<3?i(c):n>3?i(e,o,c):i(e,o))||c);return n>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.BaseLevel=void 0;var n=cc._decorator.ccclass,c=cc._decorator.property,a=cc.Vec2,s=t("../../common/scripts/helper"),l=t("../../common/scripts/util"),p=t("./assemble"),d=t("./quiz-collect"),u=t("./reward"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._allRewardItems=[],e._quizItems=[],e._shouldShowReward=!1,e.rewardPrefab=null,e.quizPrefab=null,e.textFont=null,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){var t=this;this.scheduleOnce(function(){t.initQuizPrefabs(),t._shouldShowReward&&t.buildRewards(!0),t.buildRewards(!1)},.5)},Object.defineProperty(e.prototype,"inCorrectAnswers",{get:function(){return this._incorrectAnswers},set:function(t){this._incorrectAnswers=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"correctAnswers",{get:function(){return this._correctAnswers},set:function(t){this._correctAnswers=t},enumerable:!1,configurable:!0}),e.prototype.randomRewards=function(){this._correctNumber=this.randomFruit();var t=[1,2,3,4,5,6,7,8,9,10],e=t.indexOf(this._correctNumber);-1!==e&&t.splice(e,1),this._generator||(this._generator=l.Util.shuffleGenerator(t)),cc.log("correct fruit to pick",this._correctNumber," and others",JSON.stringify(t))},e.prototype.buildRewards=function(t){this._allRewardItems=[];var e=this.findRewardsOrObstacles(t);for(var o in t&&this.randomRewards(),e){var r=e[o];if(r){var i=cc.instantiate(this.rewardPrefab),n=i.getComponent(u.Reward);n.correctAnswer=this._correctNumber;var c=this._generator.next().value;t?Math.random()<.5?n.loadImage(this._correctNumber):n.loadImage(c):n.loadObstacle(),i.position=new cc.Vec2(r.position.x,r.position.y+50),this._allRewardItems.push(i)}}this.showRewards()},e.prototype.randomFruit=function(){return cc.find("Platform").getComponent(p.default).randomFruitNumber},e.prototype.buildQuizzes=function(){this._quizItems=[];var t=this.findQuizLocations();for(var e in t){var o=t[e];if(o){var r=cc.instantiate(this.quizPrefab),i=r.getComponent(d.QuizCollect);i.correctAnswers=this.correctAnswers,i.text=o.text,l.Util.initText(r,this.textFont,o.text,s.FONT_SIZE,null,!0,new a(-5.5,10)),r.position=new cc.Vec2(o.position.x,o.position.y+50),this._quizItems.push(r)}}this._shouldShowReward=0===this._quizItems.length,this.showQuizzes()},e.prototype.findRewardsOrObstacles=function(t){var e=t?"quizcollect":"obstacle";return this.node.children.filter(function(t){return t.name.startsWith("collect")}).map(function(t,o){if(cc.log("node",t," group",t.group),t.name.startsWith("collect")&&t.group===e)return{position:t.getPosition()}})},e.prototype.findQuizLocations=function(){var t=this.node.children.filter(function(t){return t.group===s.QUIZ_GROUP&&t.name.startsWith("collect")}).length||0,e=this._correctAnswers.length,o=t-e,r=l.Util.randomElements(this.correctAnswers,e).concat(l.Util.randomElements(this.inCorrectAnswers,o));return r&&r.length>0?this.node.children.filter(function(t){return t.name.startsWith("collect")}).map(function(t,e){if(t.group===s.QUIZ_GROUP&&t.name.startsWith("collect"))return{position:t.getPosition(),text:r[e]}}):[]},e.prototype.showRewards=function(){for(var t in this._allRewardItems){var e=this._allRewardItems[t];this.node.addChild(e)}},e.prototype.showQuizzes=function(){for(var t in this._quizItems){var e=this._quizItems[t];this.node.addChild(e)}},e.prototype.initQuizPrefabs=function(){this.setQuizOptions(),this.buildQuizzes()},i([c(cc.Prefab)],e.prototype,"rewardPrefab",void 0),i([c(cc.Prefab)],e.prototype,"quizPrefab",void 0),i([c({type:cc.Font})],e.prototype,"textFont",void 0),e=i([n],e)}(cc.Component);o.BaseLevel=h,cc._RF.pop()},{"../../common/scripts/helper":void 0,"../../common/scripts/util":void 0,"./assemble":"assemble","./quiz-collect":"quiz-collect","./reward":"reward"}],"camera-movement":[function(t,e,o){"use strict";cc._RF.push(e,"02d3bnxUBNIyr/Cr8wl/ksy","camera-movement");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),i=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,c=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(n<3?i(c):n>3?i(e,o,c):i(e,o))||c);return n>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.CamraMovement=void 0;var n=cc._decorator.ccclass,c=cc._decorator.property,a=t("./platformer"),s=t("../../common/scripts/util"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.player=null,e.platformer=null,e.stopScrollX=10*cc.winSize.width,e.startGameX=0,e.numScreens=1,e._gameMode=!1,e}return r(e,t),Object.defineProperty(e.prototype,"gameMode",{get:function(){return this._gameMode},set:function(t){this._gameMode=t},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.camera=this.getComponent(cc.Camera),this.node&&(this.node.on(s.TouchEvents.TOUCH_START,this.onTouchStart,this),this.node.on(s.TouchEvents.TOUCH_END,this.onTouchEnded,this))},e.prototype.onTouchStart=function(t){},e.prototype.onTouchEnded=function(t){},i([c(cc.Node)],e.prototype,"player",void 0),i([c(a.Platformer)],e.prototype,"platformer",void 0),e=i([n],e)}(cc.Component);o.CamraMovement=l,cc._RF.pop()},{"../../common/scripts/util":void 0,"./platformer":"platformer"}],level:[function(t,e,o){"use strict";cc._RF.push(e,"ff92cX5bmlOlrX2RKo11zBj","level");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),i=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,c=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(n<3?i(c):n>3?i(e,o,c):i(e,o))||c);return n>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Level=void 0;var n=cc._decorator.ccclass,c=t("./base-level"),a=t("./assemble"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.start=function(){t.prototype.start.call(this)},e.prototype.setQuizOptions=function(){var t=cc.find("Platform").getComponent(a.default);this.correctAnswers=t.pickLetters,this.inCorrectAnswers=t.showLetters},e=i([n],e)}(c.BaseLevel);o.Level=s,cc._RF.pop()},{"./assemble":"assemble","./base-level":"base-level"}],obstacle:[function(t,e,o){"use strict";cc._RF.push(e,"02ae5fDckxOF4NaKlVZNvIe","obstacle");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),i=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,c=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(n<3?i(c):n>3?i(e,o,c):i(e,o))||c);return n>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,a=n.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return r(e,t),e.prototype.onClick=function(t,e){var o=t.target,r=o.parent,i=r.getComponent(cc.Animation);i.stop(),i.play("waterfall_end"),i.on("finished",function(){r.removeComponent(cc.RigidBody),o.removeFromParent(!1)},this)},i([a(cc.Label)],e.prototype,"label",void 0),i([a],e.prototype,"text",void 0),e=i([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],"one-side-platform":[function(t,e,o){"use strict";cc._RF.push(e,"6769buWK85IdKDERDWcM/5O","one-side-platform");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),i=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,c=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(n<3?i(c):n>3?i(e,o,c):i(e,o))||c);return n>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.OneSidePlatform=void 0;var n=cc._decorator.ccclass,c=t("./platform-player"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._player=null,e}return r(e,t),e.prototype.onLoad=function(){this._pointVelPlatform=cc.v2(),this._pointVelOther=cc.v2(),this._relativeVel=cc.v2(),this._relativePoint=cc.v2(),this._player=cc.find("Player")},e.prototype.onBeginContact=function(t,e,o){var r=o.body,i=e.body,n=t.getWorldManifold().points,a=this._pointVelPlatform,s=this._pointVelOther,l=this._relativeVel,p=this._relativePoint,d=this._player.getComponent(c.PlatformPlayer);if(console.log("_player linear velocity",d.linearVelocity()),d.linearVelocity()&&d.linearVelocity().y>0)return console.log("contact.disabled as player jumping up"),void(t.disabled=!0);for(var u=0;u<n.length;u++){i.getLinearVelocityFromWorldPoint(n[u],a),r.getLinearVelocityFromWorldPoint(n[u],s),i.getLocalVector(s.subSelf(a),l);var h=e.getAABB().width/2;if(l.y<-32&&h-32>=e.getAABB().width/2){e.getAABB().width;return void console.log("contact.enabled 111")}if(l.y<32){i.getLocalPoint(n[u],p);var f=e.getAABB().height/2;if(p.y>f-3.2)return void console.log("contact.enabled 222",l.x,l.y)}}console.log("contact.disabled"),t.disabled=!0},e=i([n],e)}(cc.Component);o.OneSidePlatform=a,cc._RF.pop()},{"./platform-player":"platform-player"}],"platform-player":[function(t,e,o){"use strict";cc._RF.push(e,"38640T2oKBB4pfxujd6q/zG","platform-player");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),i=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,c=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(n<3?i(c):n>3?i(e,o,c):i(e,o))||c);return n>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.PlatformPlayer=o.Y_PULL=void 0;var n=cc._decorator.ccclass,c=cc._decorator.property,a=t("./quiz-collect"),s=t("./reward"),l=t("../../common/scripts/util"),p=t("../../common/scripts/helper"),d=t("./platformUtil");o.Y_PULL=-425;var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._prevPos=null,e._currentPos=null,e._isInJumpMode=!1,e._speed=new cc.Vec2(0,0),e._maxSpeedV2=new cc.Vec2(0,0),e._chimpleNode=null,e.gravity=0,e.drag=0,e.constSpeed=0,e.jumpSpeed=0,e.wallHitAudio=null,e.jumpAudio=null,e.landAudio=null,e.collectCorrectAudio=null,e.collectWrongAudio=null,e._isFallingDown=!1,e._isJumpingUp=!1,e._isOnGround=0,e._isOnHighGround=0,e._isOnWallContact=0,e._isPlayerRotating=!1,e._isInAir=!1,e}return r(e,t),e.prototype.onLoad=function(){cc.find("Platform").on(l.TouchEvents.TOUCH_START,this.onTouchStart,this),cc.find("Platform").on(l.TouchEvents.TOUCH_END,this.onTouchEnded,this),this._speed=new cc.Vec2(0,this.jumpSpeed*(1+1*this.gravity/60)),this._maxSpeedV2=new cc.Vec2(this.constSpeed,this.jumpSpeed),this._chimpleNode=this.node.getChildByName("platformchimp_ske")},e.prototype.onEnable=function(){cc.director.getCollisionManager().enabled=!0},e.prototype.onTouchStart=function(t){this._isInJumpMode||(this.playChimpAnimation("jump_up"),l.Util.playSfx(this.jumpAudio)),this._isInJumpMode=!0},e.prototype.onTouchEnded=function(t){this._isInJumpMode=!1},e.prototype.evaluateConditions=function(){this._speed.y>0?(this._isJumpingUp=!0,this._isFallingDown=!1,this._isInAir=!0):this._speed.y<0?(this._isJumpingUp=!1,this._isFallingDown=!0,this._isInAir=!0):0===this._speed.y&&(this._isOnGround<=0&&this._isOnHighGround<=0?this._isInAir=!0:this._isInAir=!1,this._isJumpingUp=!1,this._isFallingDown=!1)},e.prototype.update=function(t){this.evaluateConditions(),this._isInJumpMode&&0===this._speed.y&&(Math.abs(this._speed.x)>=50||this._isOnWallContact>0)&&(this._isOnGround>0||this._isOnHighGround>0)&&!this._isInAir&&(this._speed.y=this.jumpSpeed,this._isInAir=!0),!0===this._isInAir&&(this._speed.y+=1*this.gravity/60),Math.abs(this._speed.y)>this._maxSpeedV2.y&&(this._speed.y=this._speed.y>0?this._maxSpeedV2.y:-this._maxSpeedV2.y),this.node.y+=1*this._speed.y/60,this._isOnWallContact<=0&&(this.node.x+=1*this._speed.x/60),this._speed.x>=50&&!this._isPlayerRotating?(this._isPlayerRotating=!0,this._chimpleNode.runAction(cc.repeatForever(cc.rotateBy(1,-360)))):this._isOnWallContact>0&&this._isPlayerRotating&&(this._isPlayerRotating=!1,this._chimpleNode.stopAllActions(),this._chimpleNode.runAction(cc.rotateTo(.5,0)))},e.prototype.lateUpdate=function(){this._prevPos=this._currentPos?new cc.Vec2(this._currentPos.x,this._currentPos.y):this.node.position,this._currentPos=this.node.position},e.prototype.printState=function(){},e.prototype.collisionGroundEnter=function(t,e){var o=t.world.aabb,r=t.world.preAabb.clone(),i=e.world.aabb,n=e.world.preAabb.clone();n.x=i.x,r.x=o.x,n.y=i.y,r.y=o.y;var c=t.node.getComponent(cc.BoxCollider);0===c.tag?this._isOnGround++:1===c.tag&&this._isOnHighGround++,this._speed.x<=0&&(this._speed.x=this.constSpeed),cc.Intersection.rectRect(n,r)&&(1===this._isOnGround&&this._speed.y<=0&&0===this._isOnHighGround&&n.yMax>r.yMax?this.setPlayerOnGround(r):1===this._isOnHighGround&&this._speed.y<=0&&this._isInAir&&n.yMax>r.yMax?this.setPlayerOnGround(r):0===c.tag&&this._speed.y<=0&&n.yMin<r.yMax&&0===c.tag?this.setPlayerOnGround(r):1===c.tag&&1===this._isOnHighGround&&0==this._isOnGround&&n.yMin<r.yMax&&this._speed.y<=0&&(this._speed.y+=1*this.gravity/60)),this._isInAir=!1},e.prototype.setPlayerOnGround=function(t){var e=this.node.getComponent(cc.BoxCollider);this.node.y=t.yMax+e.size.height/2,this._speed.y=0},e.prototype.setPlayerOnGroundWhenCollideWithWall=function(t){this.node.y=this.node.y+100,this._speed.y=0},e.prototype.runAnimation=function(t){var e=this._chimpleNode.getComponent(dragonBones.ArmatureDisplay);null!=e&&e.playAnimation(t,1)},e.prototype.collisionWallEnter=function(t,e){var o=t.world.aabb,r=t.world.preAabb.clone(),i=e.world.aabb,n=e.world.preAabb.clone();n.x=i.x,r.x=o.x,n.y=i.y,r.y=o.y,this._isOnWallContact++,this.playChimpAnimation("collide"),l.Util.playSfx(this.wallHitAudio),1===this._isOnHighGround&&0==this._isOnGround&&this._speed.y>0&&n.yMin<r.yMax&&this.setPlayerOnGroundWhenCollideWithWall(r)},e.prototype.playChimpAnimation=function(t,e){void 0===e&&(e=1);var o=this._chimpleNode.getComponent(dragonBones.ArmatureDisplay);null!=o&&o.playAnimation(t,e)},e.prototype.consumeQuizzesIfAny=function(t,e){var o=t.node.getComponent(a.QuizCollect);null!==o&&(o.touched||(o.touched=!0,d.PlatformUtil.collectQuiz(t.node,this)))},e.prototype.consumeRewardsIfAny=function(t,e){var o=t.node.getComponent(s.Reward);if(o&&!o.touched){o.touched=!0;var r="obstacle"===t.node.group;d.PlatformUtil.collectReward(t.node,r,this)}},e.prototype.onCollisionEnter=function(t,e){switch(t.node.group){case p.GROUND_GROUP:this.collisionGroundEnter(t,e);break;case p.WALL_GROUP:this.collisionWallEnter(t,e);break;case p.QUIZ_GROUP:this.consumeQuizzesIfAny(t,e),this.consumeRewardsIfAny(t,e);break;case p.OBSTACLE_GROUP:this.consumeRewardsIfAny(t,e)}},e.prototype.onCollisionExit=function(t,e){if("ground"==t.node.group){var o=t.world.aabb,r=t.world.preAabb.clone(),i=e.world.aabb,n=e.world.preAabb.clone();n.x=i.x,r.x=o.x,n.y=i.y,r.y=o.y;var c=t.node.getComponent(cc.BoxCollider);0===c.tag&&this._speed.y<=0&&n.yMax<r.yMax&&this.setPlayerOnGround(r),0===c.tag?this._isOnGround--:1===c.tag&&this._isOnHighGround--,(1===c.tag||0==c.tag)&&1===this._isOnHighGround&&!this._isInAir&&0==this._isOnGround&&n.yMax>r.yMax&&0===this._speed.y&&(this._speed.y+=1*this.gravity/60),this._isInJumpMode=!1}else"wall"===t.node.group&&this._isOnWallContact--},e.prototype.linearVelocity=function(){return null},i([c()],e.prototype,"gravity",void 0),i([c()],e.prototype,"drag",void 0),i([c()],e.prototype,"constSpeed",void 0),i([c()],e.prototype,"jumpSpeed",void 0),i([c(cc.AudioClip)],e.prototype,"wallHitAudio",void 0),i([c(cc.AudioClip)],e.prototype,"jumpAudio",void 0),i([c(cc.AudioClip)],e.prototype,"landAudio",void 0),i([c(cc.AudioClip)],e.prototype,"collectCorrectAudio",void 0),i([c(cc.AudioClip)],e.prototype,"collectWrongAudio",void 0),e=i([n],e)}(cc.Component);o.PlatformPlayer=u,cc._RF.pop()},{"../../common/scripts/helper":void 0,"../../common/scripts/util":void 0,"./platformUtil":"platformUtil","./quiz-collect":"quiz-collect","./reward":"reward"}],platformUtil:[function(t,e,o){"use strict";cc._RF.push(e,"576f6YXbSFPArQmZAkyder6","platformUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.PlatformUtil=void 0;var r=t("../../common/scripts/util"),i=t("./platformer"),n=t("./quiz-collect"),c=t("./reward"),a=function(){function t(){}return t.collectReward=function(e,o,n){var a=e.getComponent(c.Reward),s=!o&&a.isCorrect();if(s?(n.playChimpAnimation("collect_correct"),r.Util.playSfx(n.collectCorrectAudio)):(n.playChimpAnimation("collect_wrong"),r.Util.playSfx(n.collectWrongAudio)),o){var l=cc.find("RewardsMonitor");l&&l.emit(i.COLLECT_REWARD_EVENT,e,s)}else t.runRewardAnimation(e,s)},t.collectQuiz=function(e,o){var i=e.getComponent(n.QuizCollect).isCorrect();i?(o.playChimpAnimation("collect_correct"),r.Util.playSfx(o.collectCorrectAudio)):(o.playChimpAnimation("collect_wrong"),r.Util.playSfx(o.collectWrongAudio)),t.runQuizAnimation(e,i)},t.runQuizAnimation=function(t,e){var o=cc.find("RewardsMonitor"),r=t.getComponent(cc.Animation),n=e?"quizcollect_correct":"quizcollect_wrong";r.getAnimationState(""+n).wrapMode=cc.WrapMode.Normal,r.on("finished",function(r){o&&o.emit(i.COLLECT_REWARD_EVENT,t,e)}),r.play(""+n)},t.runRewardAnimation=function(t,e){var o=cc.find("RewardsMonitor"),r=t.getComponent(cc.Animation);if(e){var n="quizcollect_correct";r.getAnimationState(""+n).wrapMode=cc.WrapMode.Normal,r.play(""+n),o&&o.emit(i.COLLECT_REWARD_EVENT,t,e)}else o&&o.emit(i.COLLECT_REWARD_EVENT,t,e)},t}();o.PlatformUtil=a,cc._RF.pop()},{"../../common/scripts/util":void 0,"./platformer":"platformer","./quiz-collect":"quiz-collect","./reward":"reward"}],platformer:[function(t,e,o){"use strict";cc._RF.push(e,"dbd095npB5FKqlGItyaYHFK","platformer");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),i=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,c=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(n<3?i(c):n>3?i(e,o,c):i(e,o))||c);return n>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Platformer=o.COLLECT_REWARD_EVENT=void 0;var n=cc._decorator.ccclass,c=cc._decorator.property,a=t("../../common/scripts/lib/config");o.COLLECT_REWARD_EVENT="collect_reward_event";var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgLast=null,e.bgLayer=null,e.fgLayer=null,e._bgNode=null,e}return r(e,t),e.prototype.onLoad=function(){this._bgNode=cc.director.getScene().getChildByName(a.BG_NAME),null==this._bgNode&&this.arrangeScene()},e.prototype.onEnable=function(){cc.director.getPhysicsManager().enabled=!0;cc.director.getCollisionManager()},e.prototype.createLayer=function(t,e,o){var r=cc.instantiate(t);return r.setAnchorPoint(0,0),r.setPosition(r.width*o,0),r.zIndex=e,this._bgNode.addChild(r),r},e.prototype.arrangeScene=function(){this._bgNode=new cc.Node,this._bgNode.name=a.BG_NAME,this._bgNode.zIndex=-5,cc.director.getScene().addChild(this._bgNode),cc.game.addPersistRootNode(this._bgNode),this.createLayer(this.bgLast,-4,0),this.createLayer(this.bgLast,-4,1),this.createLayer(this.fgLayer,-2,0),this.createLayer(this.fgLayer,-2,1),this.createLayer(this.bgLayer,-3,0),this.createLayer(this.bgLayer,-3,1)},e.prototype.moveLayers=function(t,e,o,r){t.x+=o*r,e.x+=o*r,t.x+t.width<0&&(t.x=e.x+e.width),e.x+e.width<0&&(e.x=t.x+t.width)},e.prototype.scrollLayersInParallax=function(t){this._bgNode.childrenCount>=6&&(this.moveLayers(this._bgNode.children[0],this._bgNode.children[1],.1,t),this.moveLayers(this._bgNode.children[2],this._bgNode.children[3],.2,t),this.moveLayers(this._bgNode.children[4],this._bgNode.children[5],.5,t))},i([c(cc.Prefab)],e.prototype,"bgLast",void 0),i([c(cc.Prefab)],e.prototype,"bgLayer",void 0),i([c(cc.Prefab)],e.prototype,"fgLayer",void 0),e=i([n],e)}(cc.Component);o.Platformer=s,cc._RF.pop()},{"../../common/scripts/lib/config":void 0}],"player-animations":[function(t,e,o){"use strict";cc._RF.push(e,"38e2e2+pMpIuriok1CsQmAf","player-animations"),Object.defineProperty(o,"__esModule",{value:!0}),o.PlayerAnimations=o.collide=o.squash=o.falling=o.jump=o.sad=o.happy=o.idle=o.walking=void 0,o.walking="walking",o.idle="idle",o.happy="happy",o.sad="sad",o.jump="jump",o.falling="falling",o.squash="squash",o.collide="collide";var r=function(){function t(t,e,o){this._player=t,this._body=e,this._anim=o}return t.prototype.animate=function(){},t.prototype.fallCondition=function(){return this._currentAnimState!==o.jump},t.prototype.reset=function(){this._anim.stop(),this._currentAnimState=null},t.prototype.animState=function(t,e,o){if(void 0===e&&(e=!0),void 0===o&&(o=!0),o&&this._currentAnimState!==t){this._prevAnimState=this._currentAnimState,this.reset(),this._currentAnimState=t;var r=this._anim.play(t);e&&(r.wrapMode=cc.WrapMode.Loop,r.repeatCount=1/0)}},Object.defineProperty(t.prototype,"currentAnimState",{get:function(){return this._currentAnimState},set:function(t){this._currentAnimState=t},enumerable:!1,configurable:!0}),t}();o.PlayerAnimations=r,cc._RF.pop()},{}],"quiz-collect":[function(t,e,o){"use strict";cc._RF.push(e,"6d0cerR9Z9Hvqmk6Uykd0Je","quiz-collect");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),i=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,c=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(n<3?i(c):n>3?i(e,o,c):i(e,o))||c);return n>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.QuizCollect=void 0;var n=cc._decorator.ccclass,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._touched=!1,e._text=null,e._correctAnswers=null,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},Object.defineProperty(e.prototype,"correctAnswers",{get:function(){return this._correctAnswers},set:function(t){this._correctAnswers=JSON.parse(JSON.stringify(t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"touched",{get:function(){return this._touched},set:function(t){this._touched=t},enumerable:!1,configurable:!0}),e.prototype.isCorrect=function(){return this._correctAnswers.includes(this._text[0])},e=i([n],e)}(cc.Component);o.QuizCollect=c,cc._RF.pop()},{}],rewardsMonitor:[function(t,e,o){"use strict";cc._RF.push(e,"344069cbT1LiImfiMJP5MI3","rewardsMonitor");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),i=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,c=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(n<3?i(c):n>3?i(e,o,c):i(e,o))||c);return n>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.ALL_REWARDS_COLLECTED=void 0;var n=cc._decorator.ccclass,c=cc._decorator.property,a=cc.Vec2,s=cc.Label.HorizontalAlign,l=cc.Label.VerticalAlign,p=t("../../platform/scripts/platformer"),d=t("../../common/scripts/lib/config"),u=t("../../common/scripts/util");o.ALL_REWARDS_COLLECTED="ALL_REWARDS_COLLECTED";var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.incomplete=null,e.rewardImageNode=null,e.alphabetCollectMode=!1,e.shadowImage=null,e.alphabetToCollect="",e.totalItems=0,e}return r(e,t),e.prototype.onLoad=function(){var t=this,e=d.default.getInstance().flow;this.totalItems=e===d.Flow.Open?1:3,this.node.on(p.COLLECT_REWARD_EVENT,function(e,o){o?t.collectItem(e):t.removeItem(e)});for(var o=1;o<=this.totalItems;o++){var r=new cc.Node;this.alphabetCollectMode?this.createRewardLabel(r,o):this.createRewardStar(r,o),this.node.addChild(r)}},e.prototype.createRewardStar=function(t,e){t.name=e.toString();var o=cc.instantiate(this.rewardImageNode);o.name="sprite",o.group="gameCamera",t.addChild(o),o.getComponent(cc.Sprite).spriteFrame=this.shadowImage?this.shadowImage:this.incomplete,t.width=o.width,t.height=o.height},e.prototype.createRewardLabel=function(t,e){t.name=e.toString();var o=u.Util.initText(t,null,this.alphabetToCollect,"40",null,!0,new a(-5.5,10),s.CENTER,l.CENTER,new cc.Vec2(.5,.5),!0,2);o.group="gameCamera",t.width=50,t.height=o.height},e.prototype.removeItem=function(t){var e=[].concat(this.node.children.filter(function(t){return 2===t.children.length})).length;if(t.removeFromParent(!1),0!==e){var o=this.node.getChildByName(e.toString());o.removeAllChildren(!1),this.alphabetCollectMode?this.createRewardLabel(o,e):this.createRewardStar(o,e),e--}},e.prototype.collectLabel=function(t){var e=[].concat(this.node.children.filter(function(t){return 2===t.children.length})).length;e++;var o=this.node.getChildByName(e.toString());if(null!==o){var r=t.convertToWorldSpaceAR(new cc.Vec2(0,0)),i=o.convertToNodeSpaceAR(r);t.removeFromParent(),o.addChild(t),t.setPosition(i),this.smoothLabel(t,e)}},e.prototype.collectReward=function(t){var e=[].concat(this.node.children.filter(function(t){return 2===t.children.length})).length;e++;var o=this.node.getChildByName(e.toString());if(null!=o){t.children.forEach(function(t){return t.group="gameCamera"});var r=o.getChildByName("sprite");t.width=r.width,t.height=r.height,t.scale=1,t.opacity=255,t.group="gameCamera";var i=t.convertToWorldSpaceAR(new cc.Vec2(0,0)),n=o.convertToNodeSpaceAR(i);t.removeFromParent(),o.addChild(t),t.setPosition(n),this.smoothPath(t,o)}else t.opacity=0,t.removeFromParent(!1)},e.prototype.collectItem=function(t){this.alphabetCollectMode?this.collectLabel(t):this.collectReward(t)},e.prototype.smoothLabel=function(t,e){var r=this;t.runAction(cc.sequence([cc.bezierTo(1,[cc.v2(t.x+200,t.y-200),cc.v2(t.x+400,t.y-400),new cc.Vec2(0,0)]),cc.callFunc(function(){t.active=0,t.opacity=0;var i=e,n=r.node.getChildByName(i.toString());if(null!=n){var c=n.getChildByName(r.alphabetToCollect);c&&(c.color=cc.Color.BLUE)}[].concat(r.node.children.filter(function(t){return 2===t.children.length})).length===r.totalItems&&r.node.emit(o.ALL_REWARDS_COLLECTED)})]))},e.prototype.smoothPath=function(t,e){var r=this;t.runAction(cc.sequence([cc.bezierTo(1,[cc.v2(t.x-200,t.y-200),cc.v2(t.x+200,t.y-200),new cc.Vec2(0,0)]),cc.callFunc(function(){t.x=0,t.y=16,[].concat(r.node.children.filter(function(t){return 2===t.children.length})).length===r.totalItems&&r.node.emit(o.ALL_REWARDS_COLLECTED)})]))},i([c(cc.SpriteFrame)],e.prototype,"incomplete",void 0),i([c(cc.Prefab)],e.prototype,"rewardImageNode",void 0),e=i([n],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../common/scripts/lib/config":void 0,"../../common/scripts/util":void 0,"../../platform/scripts/platformer":"platformer"}],reward:[function(t,e,o){"use strict";cc._RF.push(e,"9c1bah8ilxKzohciiCbYfCQ","reward");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),i=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,c=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(n<3?i(c):n>3?i(e,o,c):i(e,o))||c);return n>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Reward=void 0;var n=cc._decorator.ccclass,c=cc._decorator.property,a=cc.Vec2,s=t("../../common/scripts/helper"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.r1=null,e.r2=null,e.r3=null,e.r4=null,e.r5=null,e.r6=null,e.r7=null,e.r8=null,e.r9=null,e.r10=null,e.o1=null,e.o2=null,e.imageNode=null,e._touched=!1,e._rewardNumber=-1,e.correctAnswer=-1,e}return r(e,t),Object.defineProperty(e.prototype,"touched",{get:function(){return this._touched},set:function(t){this._touched=t},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){},e.prototype.loadImage=function(t){this._rewardNumber=t;var e=cc.instantiate(this.imageNode);e.getComponent(cc.Sprite).spriteFrame=this["r"+t],e.setPosition(new a(0,-16)),this.node.addChild(e)},e.prototype.loadObstacle=function(){this.node.group=s.OBSTACLE_GROUP;var t=cc.instantiate(this.imageNode);t.getComponent(cc.Sprite).spriteFrame=Math.random()>.5?this.o1:this.o2,t.setPosition(new a(0,-16)),this.node.addChild(t)},e.prototype.isCorrect=function(){return!!this.correctAnswer&&!!this._rewardNumber&&this.correctAnswer===this._rewardNumber},i([c(cc.SpriteFrame)],e.prototype,"r1",void 0),i([c(cc.SpriteFrame)],e.prototype,"r2",void 0),i([c(cc.SpriteFrame)],e.prototype,"r3",void 0),i([c(cc.SpriteFrame)],e.prototype,"r4",void 0),i([c(cc.SpriteFrame)],e.prototype,"r5",void 0),i([c(cc.SpriteFrame)],e.prototype,"r6",void 0),i([c(cc.SpriteFrame)],e.prototype,"r7",void 0),i([c(cc.SpriteFrame)],e.prototype,"r8",void 0),i([c(cc.SpriteFrame)],e.prototype,"r9",void 0),i([c(cc.SpriteFrame)],e.prototype,"r10",void 0),i([c(cc.SpriteFrame)],e.prototype,"o1",void 0),i([c(cc.SpriteFrame)],e.prototype,"o2",void 0),i([c(cc.Prefab)],e.prototype,"imageNode",void 0),e=i([n],e)}(cc.Component);o.Reward=l,cc._RF.pop()},{"../../common/scripts/helper":void 0}],wait:[function(t,e,o){"use strict";cc._RF.push(e,"2199fsFvd5LapxyeaXXmYoy","wait");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),i=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,c=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(n<3?i(c):n>3?i(e,o,c):i(e,o))||c);return n>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,a=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onBeginContact=function(t,e,o){this.node.emit("waitStart")},e=i([c],e)}(cc.Component));o.default=a,cc._RF.pop()},{}]},{},["assemble","base-level","camera-movement","level","obstacle","one-side-platform","platform-player","platformUtil","platformer","player-animations","quiz-collect","reward","rewardsMonitor","wait"]);