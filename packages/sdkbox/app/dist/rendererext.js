!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(global,(function(){return(()=>{var t={3736:e=>{e.exports=e=>{const t=process.versions.node.split(".").map((e=>parseInt(e,10)));return e=e.split(".").map((e=>parseInt(e,10))),t[0]>e[0]||t[0]===e[0]&&(t[1]>e[1]||t[1]===e[1]&&t[2]>=e[2])}},8954:(e,t,n)=>{"use strict";var r=n(77),o=n(5622),i=n(4335).mkdirsSync,a=n(9445).utimesMillisSync,s=n(9276);function c(e,t,n,i){if(!i.filter||i.filter(t,n))return function(e,t,n,i){var a=(i.dereference?r.statSync:r.lstatSync)(t);if(a.isDirectory())return function(e,t,n,o,i){if(!t)return function(e,t,n,o){return r.mkdirSync(n),f(t,n,o),u(n,e)}(e.mode,n,o,i);if(t&&!t.isDirectory())throw new Error("Cannot overwrite non-directory '".concat(o,"' with directory '").concat(n,"'."));return f(n,o,i)}(a,e,t,n,i);if(a.isFile()||a.isCharacterDevice()||a.isBlockDevice())return function(e,t,n,o,i){return t?function(e,t,n,o){if(o.overwrite)return r.unlinkSync(n),l(e,t,n,o);if(o.errorOnExist)throw new Error("'".concat(n,"' already exists"))}(e,n,o,i):l(e,n,o,i)}(a,e,t,n,i);if(a.isSymbolicLink())return function(e,t,n,i){var a=r.readlinkSync(t);i.dereference&&(a=o.resolve(process.cwd(),a));if(e){var c;try{c=r.readlinkSync(n)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return r.symlinkSync(a,n);throw e}if(i.dereference&&(c=o.resolve(process.cwd(),c)),s.isSrcSubdir(a,c))throw new Error("Cannot copy '".concat(a,"' to a subdirectory of itself, '").concat(c,"'."));if(r.statSync(n).isDirectory()&&s.isSrcSubdir(c,a))throw new Error("Cannot overwrite '".concat(c,"' with '").concat(a,"'."));return function(e,t){return r.unlinkSync(t),r.symlinkSync(e,t)}(a,n)}return r.symlinkSync(a,n)}(e,t,n,i)}(e,t,n,i)}function l(e,t,n,o){return r.copyFileSync(t,n),o.preserveTimestamps&&function(e,t,n){(function(e){return 0==(128&e)})(e)&&function(e,t){u(e,128|t)}(n,e);(function(e,t){var n=r.statSync(e);a(t,n.atime,n.mtime)})(t,n)}(e.mode,t,n),u(n,e.mode)}function u(e,t){return r.chmodSync(e,t)}function f(e,t,n){r.readdirSync(e).forEach((function(r){return function(e,t,n,r){var i=o.join(t,e),a=o.join(n,e);return c(s.checkPathsSync(i,a,"copy").destStat,i,a,r)}(r,e,t,n)}))}e.exports=function(e,t,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");var a=s.checkPathsSync(e,t,"copy"),l=a.srcStat,u=a.destStat;return s.checkParentPathsSync(e,l,t,"copy"),function(e,t,n,a){if(a.filter&&!a.filter(t,n))return;var s=o.dirname(n);r.existsSync(s)||i(s);return c(e,t,n,a)}(u,e,t,n)}},1841:(e,t,n)=>{"use strict";e.exports={copySync:n(8954)}},5890:(e,t,n)=>{"use strict";var r=n(77),o=n(5622),i=n(4335).mkdirs,a=n(5755).pathExists,s=n(9445).utimesMillis,c=n(9276);function l(e,t,n,r,s){var c=o.dirname(n);a(c,(function(o,a){return o?s(o):a?f(e,t,n,r,s):void i(c,(function(o){return o?s(o):f(e,t,n,r,s)}))}))}function u(e,t,n,r,o,i){Promise.resolve(o.filter(n,r)).then((function(a){return a?e(t,n,r,o,i):i()}),(function(e){return i(e)}))}function f(e,t,n,r,o){return r.filter?u(d,e,t,n,r,o):d(e,t,n,r,o)}function d(e,t,n,o,i){(o.dereference?r.stat:r.lstat)(t,(function(a,s){return a?i(a):s.isDirectory()?function(e,t,n,o,i,a){if(!t)return function(e,t,n,o,i){r.mkdir(n,(function(r){if(r)return i(r);m(t,n,o,(function(t){return t?i(t):y(n,e,i)}))}))}(e.mode,n,o,i,a);if(t&&!t.isDirectory())return a(new Error("Cannot overwrite non-directory '".concat(o,"' with directory '").concat(n,"'.")));return m(n,o,i,a)}(s,e,t,n,o,i):s.isFile()||s.isCharacterDevice()||s.isBlockDevice()?function(e,t,n,o,i,a){return t?function(e,t,n,o,i){if(!o.overwrite)return o.errorOnExist?i(new Error("'".concat(n,"' already exists"))):i();r.unlink(n,(function(r){return r?i(r):p(e,t,n,o,i)}))}(e,n,o,i,a):p(e,n,o,i,a)}(s,e,t,n,o,i):s.isSymbolicLink()?g(e,t,n,o,i):void 0}))}function p(e,t,n,o,i){r.copyFile(t,n,(function(r){return r?i(r):o.preserveTimestamps?function(e,t,n,r){if(function(e){return 0==(128&e)}(e))return function(e,t,n){return y(e,128|t,n)}(n,e,(function(o){return o?r(o):h(e,t,n,r)}));return h(e,t,n,r)}(e.mode,t,n,i):y(n,e.mode,i)}))}function h(e,t,n,o){!function(e,t,n){r.stat(e,(function(e,r){return e?n(e):s(t,r.atime,r.mtime,n)}))}(t,n,(function(t){return t?o(t):y(n,e,o)}))}function y(e,t,n){return r.chmod(e,t,n)}function m(e,t,n,o){r.readdir(e,(function(r,i){return r?o(r):v(i,e,t,n,o)}))}function v(e,t,n,r,i){var a=e.pop();return a?function(e,t,n,r,i,a){var s=o.join(n,t),l=o.join(r,t);c.checkPaths(s,l,"copy",(function(t,o){if(t)return a(t);f(o.destStat,s,l,i,(function(t){return t?a(t):v(e,n,r,i,a)}))}))}(e,a,t,n,r,i):i()}function g(e,t,n,i,a){r.readlink(t,(function(t,s){return t?a(t):(i.dereference&&(s=o.resolve(process.cwd(),s)),e?void r.readlink(n,(function(t,l){return t?"EINVAL"===t.code||"UNKNOWN"===t.code?r.symlink(s,n,a):a(t):(i.dereference&&(l=o.resolve(process.cwd(),l)),c.isSrcSubdir(s,l)?a(new Error("Cannot copy '".concat(s,"' to a subdirectory of itself, '").concat(l,"'."))):e.isDirectory()&&c.isSrcSubdir(l,s)?a(new Error("Cannot overwrite '".concat(l,"' with '").concat(s,"'."))):function(e,t,n){r.unlink(t,(function(o){return o?n(o):r.symlink(e,t,n)}))}(s,n,a))})):r.symlink(s,n,a))}))}e.exports=function(e,t,n,r){"function"!=typeof n||r?"function"==typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),c.checkPaths(e,t,"copy",(function(o,i){if(o)return r(o);var a=i.srcStat,s=i.destStat;c.checkParentPaths(e,a,t,"copy",(function(o){return o?r(o):n.filter?u(l,s,e,t,n,r):l(s,e,t,n,r)}))}))}},9633:(e,t,n)=>{"use strict";var r=n(2618).fromCallback;e.exports={copy:r(n(5890))}},4857:(e,t,n)=>{"use strict";var r=n(2618).fromCallback,o=n(77),i=n(5622),a=n(4335),s=n(7335),c=r((function(e,t){t=t||function(){},o.readdir(e,(function(n,r){if(n)return a.mkdirs(e,t);r=r.map((function(t){return i.join(e,t)})),function e(){var n=r.pop();if(!n)return t();s.remove(n,(function(n){if(n)return t(n);e()}))}()}))}));function l(e){var t;try{t=o.readdirSync(e)}catch(t){return a.mkdirsSync(e)}t.forEach((function(t){t=i.join(e,t),s.removeSync(t)}))}e.exports={emptyDirSync:l,emptydirSync:l,emptyDir:c,emptydir:c}},2272:(e,t,n)=>{"use strict";var r=n(2618).fromCallback,o=n(5622),i=n(77),a=n(4335);e.exports={createFile:r((function(e,t){function n(){i.writeFile(e,"",(function(e){if(e)return t(e);t()}))}i.stat(e,(function(r,s){if(!r&&s.isFile())return t();var c=o.dirname(e);i.stat(c,(function(e,r){if(e)return"ENOENT"===e.code?a.mkdirs(c,(function(e){if(e)return t(e);n()})):t(e);r.isDirectory()?n():i.readdir(c,(function(e){if(e)return t(e)}))}))}))})),createFileSync:function(e){var t;try{t=i.statSync(e)}catch(e){}if(!t||!t.isFile()){var n=o.dirname(e);try{i.statSync(n).isDirectory()||i.readdirSync(n)}catch(e){if(!e||"ENOENT"!==e.code)throw e;a.mkdirsSync(n)}i.writeFileSync(e,"")}}}},6510:(e,t,n)=>{"use strict";var r=n(2272),o=n(5124),i=n(470);e.exports={createFile:r.createFile,createFileSync:r.createFileSync,ensureFile:r.createFile,ensureFileSync:r.createFileSync,createLink:o.createLink,createLinkSync:o.createLinkSync,ensureLink:o.createLink,ensureLinkSync:o.createLinkSync,createSymlink:i.createSymlink,createSymlinkSync:i.createSymlinkSync,ensureSymlink:i.createSymlink,ensureSymlinkSync:i.createSymlinkSync}},5124:(e,t,n)=>{"use strict";var r=n(2618).fromCallback,o=n(5622),i=n(77),a=n(4335),s=n(5755).pathExists;e.exports={createLink:r((function(e,t,n){function r(e,t){i.link(e,t,(function(e){if(e)return n(e);n(null)}))}s(t,(function(c,l){return c?n(c):l?n(null):void i.lstat(e,(function(i){if(i)return i.message=i.message.replace("lstat","ensureLink"),n(i);var c=o.dirname(t);s(c,(function(o,i){return o?n(o):i?r(e,t):void a.mkdirs(c,(function(o){if(o)return n(o);r(e,t)}))}))}))}))})),createLinkSync:function(e,t){if(!i.existsSync(t)){try{i.lstatSync(e)}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}var n=o.dirname(t);return i.existsSync(n)||a.mkdirsSync(n),i.linkSync(e,t)}}}},6474:(e,t,n)=>{"use strict";var r=n(5622),o=n(77),i=n(5755).pathExists;e.exports={symlinkPaths:function(e,t,n){if(r.isAbsolute(e))return o.lstat(e,(function(t){return t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:e})}));var a=r.dirname(t),s=r.join(a,e);return i(s,(function(t,i){return t?n(t):i?n(null,{toCwd:s,toDst:e}):o.lstat(e,(function(t){return t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:r.relative(a,e)})}))}))},symlinkPathsSync:function(e,t){if(r.isAbsolute(e)){if(!o.existsSync(e))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}var n=r.dirname(t),i=r.join(n,e);if(o.existsSync(i))return{toCwd:i,toDst:e};if(!o.existsSync(e))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:r.relative(n,e)}}}},9800:(e,t,n)=>{"use strict";var r=n(77);e.exports={symlinkType:function(e,t,n){if(n="function"==typeof t?t:n,t="function"!=typeof t&&t)return n(null,t);r.lstat(e,(function(e,r){if(e)return n(null,"file");t=r&&r.isDirectory()?"dir":"file",n(null,t)}))},symlinkTypeSync:function(e,t){var n;if(t)return t;try{n=r.lstatSync(e)}catch(e){return"file"}return n&&n.isDirectory()?"dir":"file"}}},470:(e,t,n)=>{"use strict";var r=n(2618).fromCallback,o=n(5622),i=n(77),a=n(4335),s=a.mkdirs,c=a.mkdirsSync,l=n(6474),u=l.symlinkPaths,f=l.symlinkPathsSync,d=n(9800),p=d.symlinkType,h=d.symlinkTypeSync,y=n(5755).pathExists;e.exports={createSymlink:r((function(e,t,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,y(t,(function(a,c){return a?r(a):c?r(null):void u(e,t,(function(a,c){if(a)return r(a);e=c.toDst,p(c.toCwd,n,(function(n,a){if(n)return r(n);var c=o.dirname(t);y(c,(function(n,o){return n?r(n):o?i.symlink(e,t,a,r):void s(c,(function(n){if(n)return r(n);i.symlink(e,t,a,r)}))}))}))}))}))})),createSymlinkSync:function(e,t,n){if(!i.existsSync(t)){var r=f(e,t);e=r.toDst,n=h(r.toCwd,n);var a=o.dirname(t);return i.existsSync(a)||c(a),i.symlinkSync(e,t,n)}}}},2448:(e,t,n)=>{"use strict";var r=n(2618).fromCallback,o=n(77),i=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((function(e){return"function"==typeof o[e]}));Object.keys(o).forEach((function(e){"promises"!==e&&(t[e]=o[e])})),i.forEach((function(e){t[e]=r(o[e])})),t.exists=function(e,t){return"function"==typeof t?o.exists(e,t):new Promise((function(t){return o.exists(e,t)}))},t.read=function(e,t,n,r,i,a){return"function"==typeof a?o.read(e,t,n,r,i,a):new Promise((function(a,s){o.read(e,t,n,r,i,(function(e,t,n){if(e)return s(e);a({bytesRead:t,buffer:n})}))}))},t.write=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return"function"==typeof r[r.length-1]?o.write.apply(o,[e,t].concat(r)):new Promise((function(n,i){o.write.apply(o,[e,t].concat(r,[function(e,t,r){if(e)return i(e);n({bytesWritten:t,buffer:r})}]))}))},"function"==typeof o.writev&&(t.writev=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return"function"==typeof r[r.length-1]?o.writev.apply(o,[e,t].concat(r)):new Promise((function(n,i){o.writev.apply(o,[e,t].concat(r,[function(e,t,r){if(e)return i(e);n({bytesWritten:t,buffers:r})}]))}))}),"function"==typeof o.realpath.native&&(t.realpath.native=r(o.realpath.native))},5233:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=o(o(o(o(o(o(o(o(o(o(o(o({},n(2448)),n(1841)),n(9633)),n(4857)),n(6510)),n(6525)),n(4335)),n(9907)),n(7381)),n(459)),n(5755)),n(7335));var a=n(5747);Object.getOwnPropertyDescriptor(a,"promises")&&Object.defineProperty(e.exports,"promises",{get:function(){return a.promises}})},6525:(e,t,n)=>{"use strict";var r=n(2618).fromPromise,o=n(7547);o.outputJson=r(n(1774)),o.outputJsonSync=n(2024),o.outputJSON=o.outputJson,o.outputJSONSync=o.outputJsonSync,o.writeJSON=o.writeJson,o.writeJSONSync=o.writeJsonSync,o.readJSON=o.readJson,o.readJSONSync=o.readJsonSync,e.exports=o},7547:(e,t,n)=>{"use strict";var r=n(6813);e.exports={readJson:r.readFile,readJsonSync:r.readFileSync,writeJson:r.writeFile,writeJsonSync:r.writeFileSync}},2024:(e,t,n)=>{"use strict";var r=n(6780).stringify,o=n(459).outputFileSync;e.exports=function(e,t,n){var i=r(t,n);o(e,i,n)}},1774:(e,t,n)=>{"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)}))}}var i=n(6780).stringify,a=n(459).outputFile;function s(){return s=o(regeneratorRuntime.mark((function e(t,n){var r,o,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:{},o=i(n,r),e.next=4,a(t,o,r);case 4:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}e.exports=function(e,t){return s.apply(this,arguments)}},4335:(e,t,n)=>{"use strict";var r=n(2618).fromPromise,o=n(4738),i=o.makeDir,a=o.makeDirSync,s=r(i);e.exports={mkdirs:s,mkdirsSync:a,mkdirp:s,mkdirpSync:a,ensureDir:s,ensureDirSync:a}},4738:(e,t,n)=>{"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)}))}}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=n(2448),l=n(5622),u=n(3736)("10.12.0"),f=function(e){if("win32"===process.platform&&/[<>:"|?*]/.test(e.replace(l.parse(e).root,""))){var t=new Error("Path contains invalid characters: ".concat(e));throw t.code="EINVAL",t}},d=function(e){return"number"==typeof e&&(e={mode:e}),a(a({},{mode:511}),e)},p=function(e){var t=new Error("operation not permitted, mkdir '".concat(e,"'"));return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t};e.exports.makeDir=function(){var e=o(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(t),n=d(n),!u){e.next=5;break}return r=l.resolve(t),e.abrupt("return",c.mkdir(r,{mode:n.mode,recursive:!0}));case 5:return i=function(){var e=o(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.mkdir(t,n.mode);case 3:case 23:e.next=28;break;case 5:if(e.prev=5,e.t0=e.catch(0),"EPERM"!==e.t0.code){e.next=9;break}throw e.t0;case 9:if("ENOENT"!==e.t0.code){e.next=17;break}if(l.dirname(t)!==t){e.next=12;break}throw p(t);case 12:if(!e.t0.message.includes("null bytes")){e.next=14;break}throw e.t0;case 14:return e.next=16,i(l.dirname(t));case 16:return e.abrupt("return",i(t));case 17:return e.prev=17,e.next=20,c.stat(t);case 20:if(e.sent.isDirectory()){e.next=23;break}throw new Error("The path is not a directory");case 25:throw e.prev=25,e.t1=e.catch(17),e.t0;case 28:case"end":return e.stop()}}),e,null,[[0,5],[17,25]])})));return function(t){return e.apply(this,arguments)}}(),e.abrupt("return",i(l.resolve(t)));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.exports.makeDirSync=function(e,t){if(f(e),t=d(t),u){var n=l.resolve(e);return c.mkdirSync(n,{mode:t.mode,recursive:!0})}return function e(n){try{c.mkdirSync(n,t.mode)}catch(t){if("EPERM"===t.code)throw t;if("ENOENT"===t.code){if(l.dirname(n)===n)throw p(n);if(t.message.includes("null bytes"))throw t;return e(l.dirname(n)),e(n)}try{if(!c.statSync(n).isDirectory())throw new Error("The path is not a directory")}catch(e){throw t}}}(l.resolve(e))}},9907:(e,t,n)=>{"use strict";e.exports={moveSync:n(4568)}},4568:(e,t,n)=>{"use strict";var r=n(77),o=n(5622),i=n(1841).copySync,a=n(7335).removeSync,s=n(4335).mkdirpSync,c=n(9276);function l(e,t,n){try{r.renameSync(e,t)}catch(r){if("EXDEV"!==r.code)throw r;return function(e,t,n){return i(e,t,{overwrite:n,errorOnExist:true}),a(e)}(e,t,n)}}e.exports=function(e,t,n){var i=(n=n||{}).overwrite||n.clobber||!1,u=c.checkPathsSync(e,t,"move").srcStat;return c.checkParentPathsSync(e,u,t,"move"),s(o.dirname(t)),function(e,t,n){if(n)return a(t),l(e,t,n);if(r.existsSync(t))throw new Error("dest already exists.");return l(e,t,n)}(e,t,i)}},7381:(e,t,n)=>{"use strict";var r=n(2618).fromCallback;e.exports={move:r(n(7747))}},7747:(e,t,n)=>{"use strict";var r=n(77),o=n(5622),i=n(9633).copy,a=n(7335).remove,s=n(4335).mkdirp,c=n(5755).pathExists,l=n(9276);function u(e,t,n,o){r.rename(e,t,(function(r){return r?"EXDEV"!==r.code?o(r):function(e,t,n,r){i(e,t,{overwrite:n,errorOnExist:!0},(function(t){return t?r(t):a(e,r)}))}(e,t,n,o):o()}))}e.exports=function(e,t,n,r){"function"==typeof n&&(r=n,n={});var i=n.overwrite||n.clobber||!1;l.checkPaths(e,t,"move",(function(n,f){if(n)return r(n);var d=f.srcStat;l.checkParentPaths(e,d,t,"move",(function(n){if(n)return r(n);s(o.dirname(t),(function(n){return n?r(n):function(e,t,n,r){if(n)return a(t,(function(o){return o?r(o):u(e,t,n,r)}));c(t,(function(o,i){return o?r(o):i?r(new Error("dest already exists.")):u(e,t,n,r)}))}(e,t,i,r)}))}))}))}},459:(e,t,n)=>{"use strict";var r=n(2618).fromCallback,o=n(77),i=n(5622),a=n(4335),s=n(5755).pathExists;e.exports={outputFile:r((function(e,t,n,r){"function"==typeof n&&(r=n,n="utf8");var c=i.dirname(e);s(c,(function(i,s){return i?r(i):s?o.writeFile(e,t,n,r):void a.mkdirs(c,(function(i){if(i)return r(i);o.writeFile(e,t,n,r)}))}))})),outputFileSync:function(e){for(var t=i.dirname(e),n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];if(o.existsSync(t))return o.writeFileSync.apply(o,[e].concat(r));a.mkdirsSync(t),o.writeFileSync.apply(o,[e].concat(r))}}},5755:(e,t,n)=>{"use strict";var r=n(2618).fromPromise,o=n(2448);e.exports={pathExists:r((function(e){return o.access(e).then((function(){return!0})).catch((function(){return!1}))})),pathExistsSync:o.existsSync}},7335:(e,t,n)=>{"use strict";var r=n(2618).fromCallback,o=n(6264);e.exports={remove:r(o),removeSync:o.sync}},6264:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var o=n(77),i=n(5622),a=n(2357),s="win32"===process.platform;function c(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((function(t){e[t]=e[t]||o[t],e[t+="Sync"]=e[t]||o[t]})),e.maxBusyTries=e.maxBusyTries||3}function l(e,t,n){var o=0;"function"==typeof t&&(n=t,t={}),a(e,"rimraf: missing path"),a.strictEqual(r(e),"string","rimraf: path should be a string"),a.strictEqual(r(n),"function","rimraf: callback function required"),a(t,"rimraf: invalid options argument provided"),a.strictEqual(r(t),"object","rimraf: options should be object"),c(t),u(e,t,(function r(i){if(i){if(("EBUSY"===i.code||"ENOTEMPTY"===i.code||"EPERM"===i.code)&&o<t.maxBusyTries)return o++,setTimeout((function(){return u(e,t,r)}),100*o);"ENOENT"===i.code&&(i=null)}n(i)}))}function u(e,t,n){a(e),a(t),a("function"==typeof n),t.lstat(e,(function(r,o){return r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&s?f(e,t,r,n):o&&o.isDirectory()?p(e,t,r,n):void t.unlink(e,(function(r){if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return s?f(e,t,r,n):p(e,t,r,n);if("EISDIR"===r.code)return p(e,t,r,n)}return n(r)}))}))}function f(e,t,n,r){a(e),a(t),a("function"==typeof r),t.chmod(e,438,(function(o){o?r("ENOENT"===o.code?null:n):t.stat(e,(function(o,i){o?r("ENOENT"===o.code?null:n):i.isDirectory()?p(e,t,n,r):t.unlink(e,r)}))}))}function d(e,t,n){var r;a(e),a(t);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw n}try{r=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw n}r.isDirectory()?y(e,t,n):t.unlinkSync(e)}function p(e,t,n,r){a(e),a(t),a("function"==typeof r),t.rmdir(e,(function(o){!o||"ENOTEMPTY"!==o.code&&"EEXIST"!==o.code&&"EPERM"!==o.code?o&&"ENOTDIR"===o.code?r(n):r(o):function(e,t,n){a(e),a(t),a("function"==typeof n),t.readdir(e,(function(r,o){if(r)return n(r);var a,s=o.length;if(0===s)return t.rmdir(e,n);o.forEach((function(r){l(i.join(e,r),t,(function(r){if(!a)return r?n(a=r):void(0==--s&&t.rmdir(e,n))}))}))}))}(e,t,r)}))}function h(e,t){var n;c(t=t||{}),a(e,"rimraf: missing path"),a.strictEqual(r(e),"string","rimraf: path should be a string"),a(t,"rimraf: missing options"),a.strictEqual(r(t),"object","rimraf: options should be object");try{n=t.lstatSync(e)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&s&&d(e,t,n)}try{n&&n.isDirectory()?y(e,t,null):t.unlinkSync(e)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return s?d(e,t,n):y(e,t,n);if("EISDIR"!==n.code)throw n;y(e,t,n)}}function y(e,t,n){a(e),a(t);try{t.rmdirSync(e)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(e,t){if(a(e),a(t),t.readdirSync(e).forEach((function(n){return h(i.join(e,n),t)})),!s)return t.rmdirSync(e,t);var n=Date.now();do{try{return t.rmdirSync(e,t)}catch(e){}}while(Date.now()-n<500)}(e,t);else if("ENOENT"!==r.code)throw r}}e.exports=l,l.sync=h},9276:(e,t,n)=>{"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=n(2448),a=n(5622),s=n(1669),c=n(3736)("10.5.0"),l=function(e){return c?i.stat(e,{bigint:!0}):i.stat(e)},u=function(e){return c?i.statSync(e,{bigint:!0}):i.statSync(e)};function f(e,t){return Promise.all([l(e),l(t).catch((function(e){if("ENOENT"===e.code)return null;throw e}))]).then((function(e){var t=r(e,2);return{srcStat:t[0],destStat:t[1]}}))}function d(e,t){if(t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev){if(c||t.ino<Number.MAX_SAFE_INTEGER)return!0;if(t.size===e.size&&t.mode===e.mode&&t.nlink===e.nlink&&t.atimeMs===e.atimeMs&&t.mtimeMs===e.mtimeMs&&t.ctimeMs===e.ctimeMs&&t.birthtimeMs===e.birthtimeMs)return!0}return!1}function p(e,t){var n=a.resolve(e).split(a.sep).filter((function(e){return e})),r=a.resolve(t).split(a.sep).filter((function(e){return e}));return n.reduce((function(e,t,n){return e&&r[n]===t}),!0)}function h(e,t,n){return"Cannot ".concat(n," '").concat(e,"' to a subdirectory of itself, '").concat(t,"'.")}e.exports={checkPaths:function(e,t,n,r){s.callbackify(f)(e,t,(function(o,i){if(o)return r(o);var a=i.srcStat,s=i.destStat;return s&&d(a,s)?r(new Error("Source and destination must not be the same.")):a.isDirectory()&&p(e,t)?r(new Error(h(e,t,n))):r(null,{srcStat:a,destStat:s})}))},checkPathsSync:function(e,t,n){var r=function(e,t){var n,r=u(e);try{n=u(t)}catch(e){if("ENOENT"===e.code)return{srcStat:r,destStat:null};throw e}return{srcStat:r,destStat:n}}(e,t),o=r.srcStat,i=r.destStat;if(i&&d(o,i))throw new Error("Source and destination must not be the same.");if(o.isDirectory()&&p(e,t))throw new Error(h(e,t,n));return{srcStat:o,destStat:i}},checkParentPaths:function e(t,n,r,o,s){var l=a.resolve(a.dirname(t)),u=a.resolve(a.dirname(r));if(u===l||u===a.parse(u).root)return s();var f=function(i,a){return i?"ENOENT"===i.code?s():s(i):d(n,a)?s(new Error(h(t,r,o))):e(t,n,u,o,s)};c?i.stat(u,{bigint:!0},f):i.stat(u,f)},checkParentPathsSync:function e(t,n,r,o){var i=a.resolve(a.dirname(t)),s=a.resolve(a.dirname(r));if(s!==i&&s!==a.parse(s).root){var c;try{c=u(s)}catch(e){if("ENOENT"===e.code)return;throw e}if(d(n,c))throw new Error(h(t,r,o));return e(t,n,s,o)}},isSrcSubdir:p}},9445:(e,t,n)=>{"use strict";var r=n(77);e.exports={utimesMillis:function(e,t,n,o){r.open(e,"r+",(function(e,i){if(e)return o(e);r.futimes(i,t,n,(function(e){r.close(i,(function(t){o&&o(e||t)}))}))}))},utimesMillisSync:function(e,t,n){var o=r.openSync(e,"r+");return r.futimesSync(o,t,n),r.closeSync(o)}}},2618:(e,t)=>{"use strict";t.fromCallback=function(e){return Object.defineProperty((function(){for(var t=this,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if("function"!=typeof r[r.length-1])return new Promise((function(n,o){e.call.apply(e,[t].concat(r,[function(e,t){return null!=e?o(e):n(t)}]))}));e.apply(this,r)}),"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty((function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[n.length-1];if("function"!=typeof o)return e.apply(this,n);e.apply(this,n.slice(0,-1)).then((function(e){return o(null,e)}),o)}),"name",{value:e.name})}},1838:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i,a=n(5622),s=n(1765),c=n(3129),l=n(1793).queryParams();e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._process=new Map}var t,n,u;return t=e,u=[{key:"getInstance",value:function(){return i||((i=new e).builtinCocosRoot=l.builtinCocosRoot),i}}],(n=[{key:"exec",value:function(e,t,n){this._nextId++;var o=e.shift(),i=t.tag;if(delete t.tag,this.builtinCocosRoot){var l=a.join(this.builtinCocosRoot,"tools","cocos2d-console","bin");t.env={PATH:s.env.PATH,COCOS_CONSOLE_ROOT:l}}var u=c.spawn(o,e,t);console.log("[CLI] spawn (".concat(u.pid,"): ").concat(o," ").concat(e.join(" ")));var f=this._process;f.set(i,u);var d=[],p=[];u.stdout.on("data",(function(e){d.push(e),"object"===r(n)&&n.stdout(e)})),u.stderr.on("data",(function(e){p.push(e),"object"===r(n)&&n.stderr(e)})),u.on("error",(function(e){f.has(i)&&f.delete(i),"object"===r(n)?n.error(e,d.join(""),p.join("")):"function"==typeof n&&n(e,d.join(""),p.join(""))})),u.on("exit",(function(e,t){t=t||"",console.log("[CLI] exit (".concat(u.pid,") ").concat(e," ").concat(t)),f.has(i)&&f.delete(i),"object"===r(n)?n.exit(d.join(""),p.join("")):"function"==typeof n&&n(null,d.join(""),p.join(""))}))}},{key:"kill",value:function(e){if(this._process.has(e)){var t=this._process[e];t&&t.kill(),this._process.delete(e)}}},{key:"query",value:function(e){return this._process.has(e)}}])&&o(t.prototype,n),u&&o(t,u),e}()},1802:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(5747),i=n(2087),a=n(8933),s=a.shell,c=a.ipcRenderer,l=n(5622),u=n(3688),f=n(1838),d=n(7601),p=(n(9006),n(3714)),h=n(9471),y=(n(2782),n(1882),n(4316)),m=n(7344),v=n(2584),g=n(1793),b=n(7903),w=n(1793).queryParams();e.exports=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sdkbox_path=u.getSdkboxBinPath(),this._configs={},this._addCurProjectIf(),this._listHtml=$("#tab-cocos .projects-list ul"),this._projectHtmlTpl=this._listHtml.find("li.template");var n=$("#tab-cocos .projects-details");this._detailsPlaceholderHtml=n.find(".placeholder"),this._detailsPlaceholderHtml.show(),this._detailsWrapperHtml=n.find(".details"),this._detailsWrapperHtml.hide(),this._detailsHtml={},this._detailsHtml.name={icon:n.find(".name .icon img"),title:n.find(".name h2")};var r=n.find(".basics");this._detailsHtml.basics={location:r.find(".location span"),xcodeProjectPath:r.find(".xcode-project-path select"),androidProjectPath:r.find(".android-project-path select"),xcodeProjectCheckBox:r.find(".xcode-project-path input"),androidProjectCheckBox:r.find(".android-project-path input"),engine:r.find(".engine span"),buildHint:n.find(".build-hint")},this._detailsHtml.basics.xcodeProjectPath.change((function(e){t.curPoject.setSelectXcodeProject($(e.target).children("option:selected").val())})),this._detailsHtml.basics.androidProjectPath.change((function(e){t.curPoject.setSelectAndroidProject($(e.target).children("option:selected").val())})),this._detailsHtml.basics.xcodeProjectCheckBox.change((function(e){var n=t._detailsHtml.basics.xcodeProjectCheckBox.is(":checked");t.curPoject.setXcodeProjectEnable(n)})),this._detailsHtml.basics.androidProjectCheckBox.change((function(e){var n=t._detailsHtml.basics.androidProjectCheckBox.is(":checked");t.curPoject.setAndroidProjectEnable(n)})),this._detailsHtml.live={blocks:n.find(".live"),tbody:n.find(".live.block tbody")},this._detailsHtml.plugins={tbody:n.find(".plugins.block tbody")},$("button.import").on("click",(function(){t._onImportClick()})),$(".forStandalone").hide(),n.find("button.build-project").on("click",(function(){t._onBuildProjectClick()})),this._buttons={import:n.find("button.import-plugin"),update:n.find("button.update-all-plugins"),open:n.find("button.open-project-folder"),build:n.find("button.build-project")},n.find("button.open-project-folder").on("click",(function(){t._onOpenProjectFolderClick()})),n.find("button.remove-project").on("click",(function(){t._onRemoveProjectClick()})),n.find("button.import-plugin").on("click",(function(){t.curPoject.isAndroidProjectEnable()||t.curPoject.isXcodeProjectEnable()?t._onImportPluginClick():alert("Anroid and Xcode project both is disable")})),n.find("button.update-all-plugins").on("click",(function(){t.curPoject.isAndroidProjectEnable()||t.curPoject.isXcodeProjectEnable()?t._onUpdateAllPluginsClick():alert("Anroid and Xcode project both is disable")}));var o=$("#tab-cocos .tab-cocos-staging-flag");o.change((function(){o.is(":checked")?m.getInstance().changeServer("staging"):m.getInstance().changeServer("production")})),this._projects=new d(p),m.getInstance().projs=this._projects,this._loaders=new Map,this._importPluginsDialog=new h,this._importPluginsDialog.load(),m.getInstance().observeInstalledPlugin((function(e,n){t.observerInstalledPlugin(e,n)})),Array.isArray(this._configs.cocosProjects)&&this._configs.cocosProjects.forEach((function(e){t._addProject(e,!0)})),c.on("SDKBox:build-finish",(function(){t._configs.cocosProjects=[],t._addCurProjectIf(),t._listHtml.empty(),t._projects.clear(),Array.isArray(t._configs.cocosProjects)&&t._configs.cocosProjects.forEach((function(e){t._addProject(e,!0)})),t._detailsPlaceholderHtml.show(),t._detailsWrapperHtml.hide(),t._showFirstProjectDetail()})),u.installIf(),this._showFirstProjectDetail()}var t,n,a;return t=e,(n=[{key:"_showBuildHint",value:function(e){e?this._detailsHtml.basics.buildHint.show():this._detailsHtml.basics.buildHint.hide()}},{key:"_addCurProjectIf",value:function(){var e=this._findProjects(w.project);for(var t in e)this._addProjectIf(e[t]);if(null==this._configs.cocosProjects||0==this._configs.cocosProjects.length){var n=l.basename(w.project);this._addProjectIf({projectName:n,projectPath:w.project})}}},{key:"_addProjectIf",value:function(e){this._configs.cocosProjects=this._configs.cocosProjects||[];var t=this._configs.cocosProjects.indexOf(e);0!=t&&(t>0&&this._configs.cocosProjects.removeAt(t),this._configs.cocosProjects.unshift(e))}},{key:"_findProjects",value:function(e){var t=l.basename(e),n=[],r=l.join(e,"local","builder.json"),a="./build";o.existsSync(r)&&(a=JSON.parse(o.readFileSync(r,"utf8")).buildPath),"win32"==i.platform()?a.length>2&&":"==a[1]||(a=l.join(e,a)):a.startsWith("/")||(a=l.join(e,a));var s=a,c=l.join(s,"jsb-default");return g.isDir(c)&&n.push({projectName:t,projectPath:c}),c=l.join(s,"jsb-link"),g.isDir(c)&&n.push({projectName:t,projectPath:c}),c=l.join(s,"jsb-binary"),g.isDir(c)&&n.push({projectName:t,projectPath:c}),n}},{key:"_onImportClick",value:function(){var e=this;c.send("open-file-dialog"),c.once("selected-directory",(function(t,n){if(n)try{n=n[0],e._addProject(n)}catch(e){c.send("sdkbox-event",{event:"dialog",method:"showErrorBox",args:["Import Project Failed",e.toString()]})}}))}},{key:"_onBuildProjectClick",value:function(){b.compareVersions(this.curPoject.version,"3")>=0?c.send("sdkbox-event",{event:"builder-open"}):c.send("builder:open")}},{key:"_onOpenProjectFolderClick",value:function(){var e=this._detailsHtml.basics.location.text(),t=this._projects.get(e);s.showItemInFolder(t.path),s.beep()}},{key:"_onRemoveProjectClick",value:function(){var e=this,t="removeProjectClickCB";c.send("sdkbox-event",{event:"dialog",method:"showMessageBox",args:[{type:"question",buttons:["No","Yes"],defaultId:0,title:"Are you sure remove selected project ?",message:"Are you sure remove selected project ?",detail:"Project folder and files will not be deleted.",cancelId:0}],callback:t}),c.once(t,(function(t,n){if(1==n[0]){var r=e._detailsHtml.basics.location.text(),o=f.getInstance();o.kill("sdkbox info "+r),o.kill("sdkbox list "+r),o.kill("sdkbox import "+r),e._listHtml.find("> li").each((function(e,t){$(t).attr("path")===r&&$(t).remove()})),e._projects.remove(r),e._detailsPlaceholderHtml.show(),e._detailsWrapperHtml.hide();var i=e._configs.cocosProjects.indexOf(r);i>-1?(e._configs.cocosProjects.splice(i,1),v.getInstance().save(e._configs)):console.log("remove project, can't find ".concat(r))}}))}},{key:"_onImportPluginClick",value:function(){var e=this,t=this._detailsHtml.basics.location.text(),n=this._projects.get(t);this._importPluginsDialog.open(n,(function(){e._queryProjectSdkboxInfo(n,!0)}))}},{key:"_onUpdateAllPluginsClick",value:function(){var e=this,t=this._detailsHtml.basics.location.text(),n=this._projects.get(t),r="updateProjectClickCB";if(0==n.plugins.length)c.send("sdkbox-event",{event:"dialog",method:"showMessageBox",args:[{type:"question",buttons:["OK"],defaultId:0,title:"Warning",message:"No SDKBox plugin installed! Needn't update.",cancelId:1}]});else{var o={type:"question",buttons:["Update","Cancel"],defaultId:0,title:"Confirm update all installed plugins",message:"Confirm update all installed plugins:",detail:n.path,cancelId:1};c.send("sdkbox-event",{event:"dialog",method:"showMessageBox",args:[o],callback:r}),c.once(r,(function(t,r){console.log(r),0==r.response&&e._updateAllPlugins(n)}))}}},{key:"_showLoader",value:function(e){if(this._loaders.has(e.path))return!1;var t=this._queryItem(e);return t&&t.find(".loader").show(),this._loaders.set(e.path,!0),!0}},{key:"_hideLoader",value:function(e){if(!this._loaders.has(e.path))return!1;var t=this._queryItem(e);return t&&t.find(".loader").hide(),this._loaders.delete(e.path),!0}},{key:"_showFirstProjectDetail",value:function(){var e=this._projects.first();this.curPoject=e,this._showProjectDetail(e,this._queryItem(e))}},{key:"_showProjectDetail",value:function(e,t){e&&t&&(this._listHtml.find("> li").removeClass("selected"),t.addClass("selected"),this._updateDetails(e,!0),this._detailsPlaceholderHtml.hide(),this._detailsWrapperHtml.show(),this._queryProjectSdkboxInfo(e))}},{key:"_addProject",value:function(e,t){var n=this,r=null;try{r=this._projects.add(e)}catch(e){return}var o=this._projectHtmlTpl.clone();if(o.attr("path",r.path),o.find(".loader").hide(),o.removeClass("template"),o.on("click",(function(){n.curPoject=r,n._showProjectDetail(r,o)})),this._listHtml.append(o),this._updateItem(r),this._queryProjectSdkboxInfo(r),!t){Array.isArray(this._configs.cocosProjects)||(this._configs.cocosProjects=[]);var i=this._configs.cocosProjects;i.push(e);for(var a=i.length,s=new Map,c=a-1;c>=0;c--)s.has(i[c])?i.splice(c,1):s.set(i[c],!0);v.getInstance().save(this._configs)}}},{key:"_queryItem",value:function(e){if(!e)return null;for(var t=this._listHtml.find("> li"),n=0;n<t.length;n++){var r=$(t[n]);if(r.attr("path")==e.path)return r}return null}},{key:"_updateItem",value:function(e){var t=this._queryItem(e);if(t){t.find(".icon img").attr("src","../assets/img/cocos-project-icon.png"),t.find(".name h2").text(e.name),e.live&&t.find(".tags").append("<span>Live</span>");var n=t.find(".plugins-tags");n.empty(),$.each(e.plugins,(function(e,t){n.append("<span>"+t.name+"</span>")}))}}},{key:"_updateDetails",value:function(e,t){var n=this._detailsHtml;if(t||n.basics.location.text()===e.path){n.name.icon.attr("src","../assets/img/cocos-project-icon.png"),n.name.title.text(e.name),n.basics.location.text(e.path),n.basics.xcodeProjectPath.empty(),e.getXcodeProjects().forEach((function(e){var t=e,r="";"string"==typeof e?(t=e,r=l.basename(t)):(t=e.output,r=e.outputName),n.basics.xcodeProjectPath.append('<option value ="'.concat(t,'">').concat(r,"</option>"))})),n.basics.xcodeProjectPath.children("option:eq(".concat(e.getSelectXcodeProject(),")")).prop("selected",!0),n.basics.androidProjectPath.empty(),e.getAndroidProjects().forEach((function(e){var t=e,r="";"string"==typeof e?(t=e,r=l.basename(t)):(t=e.output,r=e.outputName),n.basics.androidProjectPath.append('<option value ="'.concat(t,'">').concat(r,"</option>"))})),n.basics.androidProjectPath.children("option:eq(".concat(e.getSelectAndroidProject(),")")).prop("selected",!0),n.basics.engine.text(e.engine),e instanceof p&&null==e.template?(n.basics.buildHint.show(),this._buttons.import.attr("disabled",!0).addClass("ui-state-disabled"),this._buttons.update.attr("disabled",!0).addClass("ui-state-disabled")):(n.basics.buildHint.hide(),this._buttons.import.attr("disabled",!1).removeClass("ui-state-disabled"),this._buttons.update.attr("disabled",!1).removeClass("ui-state-disabled")),e.live?n.live.blocks.show():n.live.blocks.hide();var r=n.plugins.tbody;r.empty(),Array.isArray(e.plugins)&&$(e.plugins).each((function(e,t){var n=m.getInstance().getDisplayName(t.name.toString());n=n||t.name.toString();var o="</td><td>-</td></tr>";if("googleplayservices"!=t.name.toString()){var i=t.name.toString();"gpg"==i&&(i="googleplay"),o='</td><td><a href="http://docs.sdkbox.com/en/plugins/'.concat(i,'">Doc</a></td></tr>')}r.append("<tr><td>"+n+"</td><td>"+t.version.toString()+o)}))}}},{key:"_queryProjectSdkboxInfo",value:function(e,t){var n=this;this._showLoader(e),m.getInstance().getInstalledPlugins(e.path,(function(t,r){r?c.send("sdkbox-event",{event:"dialog",method:"showErrorBox",args:["Query SDKBOX Info Failed",r.toString()]}):e.updatePluginsFromJSON(t),n._hideLoader(e),n._updateItem(e),n._updateDetails(e),e._lastQuery=Date.now()}))}},{key:"observerInstalledPlugin",value:function(e,t){if(this._projects){var n=this._projects.get(t);n&&(Date.now()-n._lastQuery<5e3||e&&this._detailsHtml.basics.location.text()===t&&(this._queryProjectSdkboxInfo(n),n._lastQuery=Date.now()))}}},{key:"_updateAllPlugins",value:function(e){var t=[];Array.isArray(e.plugins)&&$(e.plugins).each((function(e,n){t.push(n.name.toString())})),new y({creator_project_root:w.project,plugins:t,project:e.path,cmd:"update",installedPlugins:t}).show()}}])&&r(t.prototype,n),a&&r(t,a),e}()},9006:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var l="win32"===n(2087).platform()?"\\":"/",u=n(5747),f=(n(3129),n(9492));e.exports=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e,"cocos"))._live=!1,t._plugins=[],t}return t=c,(n=[{key:"validate",value:function(){var e=this._path+l+".cocos-project.json";try{var t=JSON.parse(u.readFileSync(e));this._engine=t.engine_version}catch(e){return console.log("CocosProject.validate() failed: "+e.toString()),!1}return!0}},{key:"live",get:function(){return this._live}},{key:"plugins",get:function(){return this._plugins}},{key:"updatePluginsFromJSON",value:function(e){var t=[];for(var n in e){var r=e[n],o={name:r.name,version:r.version.join(".")};t.push(o)}this._plugins=t.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}))}}])&&o(t.prototype,n),r&&o(t,r),c}(f)},2782:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o;n(6119),e.exports=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._enableClose=!1,this._dialog=getConsoleOutputDialog(),this._dialog.on("dialogbeforeclose",(function(e,n){return t._enableClose})),this._output=this._dialog.find(".output"),this._buttonsHtml=this._dialog.parent().find(".ui-dialog-buttonset button"),this.disableClose()}var t,n,i;return t=e,i=[{key:"getInstance",value:function(){return o||(o=new e),o}}],(n=[{key:"open",value:function(){this._dialog.dialog("open"),this._dialog.dialog("moveToTop")}},{key:"close",value:function(){this._dialog.dialog("close")}},{key:"enableClose",value:function(){this._enableClose=!0,this._buttonsHtml.button("enable")}},{key:"disableClose",value:function(){this._enableClose=!1,this._buttonsHtml.button("disable")}},{key:"log",value:function(e){var t=$("<div>").html(e.autoLink());this._output.append(t),this._output.append("\n")}},{key:"clear",value:function(){this._output.empty()}}])&&r(t.prototype,n),i&&r(t,i),e}()},3714:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var f="win32"===n(2087).platform()?"\\":"/",d=n(5747),p=n(5622),h=(n(3129),n(1793)),y=n(9492);e.exports=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,n,i,l=c(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=l.call(this,e,"creator"))._live=!1,t._plugins=[],t._template=null,t}return t=u,(n=[{key:"validate",value:function(){var e=this._path+f+".cocos-project.json";h.isFile(e)?this._template=p.basename(this._path):(e=this._path+f+"project.json",h.isFile(e)||(e=this._path+f+"package.json"));try{var t=JSON.parse(d.readFileSync(e));this._engine=t.engine,this._version=t.version}catch(e){return console.log("CreatorProject.validate() failed: "+e.toString()),!1}return this._xcodeProjectEnable=!0,this._androidProjectEnable=!0,this.getXcodeProjects(),this.getAndroidProjects(),!0}},{key:"live",get:function(){return this._live}},{key:"plugins",get:function(){return this._plugins}},{key:"template",get:function(){return this._template?this._template:!(!this._xcodeProjectEnable||!h.isDir(this._xcodeproj))||!(!this._androidProjectEnable||!h.isDir(this._androidproj))||this._template}},{key:"version",get:function(){return this._version}},{key:"updatePluginsFromJSON",value:function(e){var t=[];for(var n in e){var r=e[n],o={name:r.name,version:r.version.join(".")};t.push(o)}this._plugins=t.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}))}},{key:"findFile",value:function(e){d.readFileSync(e).forEach((function(e){d.i}))}},{key:"searchFile",value:function(e,t){var n=[];return function e(r){var o=[];try{o=d.readdirSync(r)}catch(e){o=[]}o.forEach((function(o){var i=0,a=p.join(r,o);t&&(i=t(a)),1==i?n.push(a):2==i||d.statSync(a).isDirectory()&&e(a)}))}(e),n}},{key:"getXcodeProjects",value:function(){var e=this,t=p.join(this._path,"frameworks","runtime-src","proj.ios_mac"),n=this.searchFile(t,(function(e){return e.endsWith(".xcodeproj")?1:e.endsWith(".framework")||e.endsWith(".xcassets")?2:0})),i=!1,a=[];n.forEach((function(n){var r=p.relative(p.dirname(t),n);a.push(r),r==e._xcodeproj&&(i=!0)})),a.sort((function(e,t){return e.includes("backup")?1:t.includes("backup")?-1:0}));var s=this.loadBuildTask("ios");return a.push.apply(a,o(s)),i||(this._xcodeproj=a[0]),"object"==r(this._xcodeproj)&&(this._xcodeproj=this._xcodeproj.output),a}},{key:"setSelectXcodeProject",value:function(e){this._xcodeproj=e}},{key:"getSelectXcodeProject",value:function(){return this._xcodeproj}},{key:"setXcodeProjectEnable",value:function(e){this._xcodeProjectEnable=e}},{key:"isXcodeProjectEnable",value:function(){return this._xcodeProjectEnable}},{key:"getAndroidProjects",value:function(){var e=this,t=p.join(this._path,"frameworks","runtime-src"),n=this.searchFile(t,(function(e){return e.includes("proj.android")?1:2})),i=!1,a=[];n.forEach((function(n){var r=p.relative(t,n);a.push(r),r==e._androidproj&&(i=!0)})),a.sort((function(e,t){return e.includes("backup")?1:t.includes("backup")?-1:0}));var s=this.loadBuildTask("android");return a.push.apply(a,o(s)),i||(this._androidproj=a[0]),"object"==r(this._androidproj)&&(this._androidproj=this._androidproj.output),a}},{key:"setSelectAndroidProject",value:function(e){this._androidproj=e}},{key:"getSelectAndroidProject",value:function(){return this._androidproj}},{key:"setAndroidProjectEnable",value:function(e){this._androidProjectEnable=e}},{key:"isAndroidProjectEnable",value:function(){return this._androidProjectEnable}},{key:"loadBuildTask",value:function(e){var t=this,n=[];if(!this._version)return n;if(this._version.split(".")[0]<3)return n;var r=p.join(this._path,"profiles"),o=this.searchFile(r,(function(e){return e.endsWith("builder.json")?1:0}));if(o.length<1)return n;try{var i=JSON.parse(d.readFileSync(o[0]));for(var a in i.BuildTaskManager.taskMap){var s=i.BuildTaskManager.taskMap[a];s.options&&n.push({id:s.id,name:s.options.name,platform:s.options.platform,buildPath:s.options.buildPath,outputName:s.options.outputName})}}catch(e){return n}var c=[];return n.forEach((function(n){var r=p.join(t.fixPath(n.buildPath),n.outputName);p.isAbsolute(r)||(r=p.join(t._path,r)),n.output=r,n.platform==e&&c.push(n)})),c}},{key:"fixPath",value:function(e){var t="project:/";return e.startsWith(t)&&(e=e.replace(t,this._path)),e}}])&&a(t.prototype,n),i&&a(t,i),u}(y)},7344:(t,n,r)=>{function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i,a=r(5622),s=r(1838),c=r(3688),l=r(1793),u=r(7903),f={adcolony:"AD UNITS",admob:"AD UNITS",agecheq:"MORE",amazon:"APP STORES",appnext:"AD UNITS",appodeal:"AD UNITS",apteligent:"ANALYTICS",bee7:"AD UNITS",chartboost:"AD UNITS",facebook:"SOCIAL",flurryanalytics:"ANALYTICS",fyber:"AD UNITS",googleanalytics:"ANALYTICS",gpg:"ESSENTIALS",iap:"ESSENTIALS",inmobi:"AD UNITS",kochava:"ATTRIBUTION",leadbolt:"AD UNITS",onesignal:"PUSH NOTIFICATION",playphone:"APP STORES",review:"ESSENTIALS",sdkboxads:"ESSENTIALS",sdkboxplay:"ESSENTIALS",share:"ESSENTIALS",scientificrevenue:"IAP OPTIMIZATION",tune:"ATTRIBUTION",valuepotion:"IAP OPTIMIZATION",vungle:"AD UNITS",youtube:"MORE"},d={adcolony:"Instant-play™ HD the best user experience, hands down.",agecheq:"Easy compliance with the US and Euro Child Privacy Laws",appodeal:"Maximize your app revenue efficiently with programmatic ad mediation for publishers.",bee7:"Our Native rewarded re-engagement system encourages valuable players to stay in your game.",chartboost:"The largest mobile games-only platform to increase revenue and discover new players.",facebook:"The world's largest social media network.",flurryanalytics:"Adopt the industry standard, for free.",googleanalytics:"Turn insights into action.",iap:"Implement Cross-Platform IAP easily. Support Apple AppStore, Google Play, Amazon AppStore, and Playphone store.",inmobi:"The Discovery Platform for a Mobile-First World.",kochava:"Driving Effective Mobile Ad Spend",leadbolt:"The high-performance mobile advertising platform for user acquisition and app monetization.",review:"More downloads of your app with App store ratings and reviews.",tune:"Making mobile marketing better, for everyone.",valuepotion:"Monetize your full user base and get your values up!",vungle:"Infrastructure for app monetization through video ads.",youtube:"Single API to play YouTube videos on both iOS and Android.",fyber:"Designed with you in mind, Fyber empowers developers to execute smart ad monetization strategies.",playphone:"Your new, must-have game monetization channel in the world’s fastest growing gaming markets.",scientificrevenue:"Pricing without Compromise.",admob:"Monetize your apps intelligently",amazon:"The exclusive appstore on Kindle tablets, but available for other devices, too.",appnext:"Grow Your Mobile Business by Promoting Apps.",sdkboxplay:"Cross platform support for both Apple Game Center and Google Play Services, including Login, Achievement and Leaderboard.",gpg:"The most secure and reliable game services for your mobile games now available on both Android and iOS!",onesignal:"OneSignal is a free high volume Push Notification service.",apteligent:"Build Better Apps Faster: crash reporting and realtime performance data.",sdkboxads:"An easy-to-use package that includes all SDKBOX supported Ad Units.",share:"Grow audience network by publishing social messages to Facebook and Twitter."};t.exports=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.manifestJson=null,this.changeServer("production"),this.sdkbox_path=c.getSdkboxBinPath(),this.projects={},this.observerTagPrefix="ObserverTag-",this.observerTagCounter=1,this.projs=null}var n,r,p;return n=t,r=[{key:"changeServer",value:function(e){var t=null;(t="staging"==e?"http://staging.sdkbox.com/installer/v1/":"".concat(u.getDownloadHost(),"installer/v1/"))!=this.serverUrl&&(this.serverUrl=t,this.manifestJson=null)}},{key:"isStaging",value:function(){return-1!=this.serverUrl.indexOf("staging")}},{key:"getDownloadPath",value:function(e,t){if(null==this.manifestJson)return null;e=e.toLowerCase();try{var n=this.manifestJson.packages[e].versions,r=null;for(var o in n){r=n[o][t],r=$.extend({},r);break}return null==r?null:(r.bundle=this.serverUrl+r.bundle,r)}catch(e){return null}}},{key:"getDisplayName",value:function(e){if(null==this.manifestJson)return null;var t=e;try{t=this.manifestJson.packages[e].display_name}catch(n){t=e}return t}},{key:"getPluginName",value:function(e){if(null==this.manifestJson)return null;var t=Object.keys(this.manifestJson.packages);for(var n in t){var r=t[n];if(this.manifestJson.packages[r].display_name==e)return r}}},{key:"getInstallerPath",value:function(){if(null==this.manifestJson)return null;try{var e=this.manifestJson.packages.SDKBOX.versions,t=null;for(var n in e){t=e[n],t=$.extend({},t);break}return null==t?null:(t.bundle=this.serverUrl+t.bundle,t)}catch(e){return null}}},{key:"fetchManifest",value:function(e){var t=this;this.fetchJson(this.serverUrl+"manifest.json",(function(n,r){t.addCategoryInfo(n),t.addDescptionInfo(n),e(n,r)}))}},{key:"fetchPackage",value:function(e,t,n){var r=this;this.fetchManifest((function(o,i){if(null!=o){var a=r.getDownloadPath(e,t);r.fetchData(a,n)}else n(null,"fetch manifest failed")}))}},{key:"fetchJson",value:function(e,t){if(null==this.manifestJson){var n=this;this.fetchUrl(e,(function(e){"string"==typeof e?t(null,e):e instanceof Response?e.ok?e.json().then((function(e){n.manifestJson=e,t(n.manifestJson,null)})):t(null,"failed, status: ".concat(e.status)):t(null,"unknow res type")}))}else t(this.manifestJson,null)}},{key:"fetchData",value:function(e,t){null!=e?this.fetchUrl(e,(function(e){"string"==typeof e?t(null,e):e instanceof Response?e.ok?t(e,null):t(null,"failed, status: ".concat(e.status)):t(null,"unknow res type")})):t(null,"failed, url is null")}},{key:"fetchUrl",value:function(e,t){fetch(e).then((function(e){t(e)}),(function(e){t(e.message)}))}},{key:"getInstalledPlugins",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!n&&e in this.projects&&this.projects[e]?t&&t(this.projects[e],null):this.queryInstalledPlugins(e,t)}},{key:"queryInstalledPlugins",value:function(t,n){var r=this;if(!l.isFile(a.join(t,".sdkbox_packages.json")))return this.projects[t]=this.projects[t]||{},void(n&&n(this.projects[t]));var o="sdkbox info "+t,i=s.getInstance();if(!i.query(o)){var c=[this.sdkbox_path,"--alwaysupdate","--local","--jsonapi","info"],u=this.projs.get(t),f=u.getSelectXcodeProject();u.isXcodeProjectEnable()&&f&&(c.push("--projectpath"),c.push(f)),f=u.getSelectAndroidProject(),u.isAndroidProjectEnable()&&f&&(c.push("--projectpath"),c.push(f));var d={tag:o,cwd:t};i.exec(c,d,(function(o,i,a){var s=null,c=null;try{o?c=e.toString():(null!=i&&0!=i.length||(i="{}"),s=JSON.parse(i))}catch(e){c=e.toString()}for(var l in c||(r.projects[t]=s),n&&n(s,c),r._installedPluginsObserver)r._installedPluginsObserver[l]&&r._installedPluginsObserver[l](s,t)}))}}},{key:"observeInstalledPlugin",value:function(e){this._installedPluginsObserver||(this._installedPluginsObserver={}),this._installedPluginsObserver["".concat(this.observerTagPrefix).concat(this.observerTagCounter)]=e,this.observerTagCounter++}},{key:"getDependency",value:function(e){if(Array.isArray(e)){var t=[];for(var n in e){var r=e[n],o=this.getDependency(r);o&&(t=t.concat(o))}return t}if(this.manifestJson){var i=e,a=null;try{a=this.manifestJson.packages[i].dependence}catch(e){console.log(e),a=null}return a&&0==a.length&&(a=null),a}}},{key:"addCategoryInfo",value:function(e){if(e)for(var t in e.packages){var n=e.packages[t];if(!n.category){var r=f[t]?f[t]:"MORE";n.category=r}}}},{key:"addDescptionInfo",value:function(e){if(e)for(var t in e.packages){var n=e.packages[t];if(!n.description){var r=d[t]?d[t]:"SDKBox Plugin:"+t;n.description=r}}}},{key:"getPluginPath",value:function(e){if(null==this.manifestJson)return null;e=e.toLowerCase();try{var t=this.manifestJson.packages[e].versions,n=null;for(var r in t){n=t[r].v3,n=$.extend({},n);break}if(null==n)return null;var o=n.bundle.slice(0,-7);return c.getSdkboxPluginsPath(o)}catch(e){return null}}},{key:"getXcodeProject",value:function(e){if(null==this.projs)return null;var t=null;try{t=this.projs.get(e).getSelectXcodeProject()}catch(e){console.log(e)}return t}},{key:"getProjectByPath",value:function(e){if(null==this.projs)return null;var t=null;try{t=this.projs.get(e)}catch(e){console.log(e)}return t}}],p=[{key:"getInstance",value:function(){return i||(i=new t),i}}],r&&o(n.prototype,r),p&&o(n,p),t}()},1882:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,i=n(8933).ipcRenderer;e.exports=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i.on("download-status",(function(e,n){"interrupted"===n.state?(t._downloadFailList.push(t._downloadingPlugin),t.download()):"progressing"===n.state&&t.setProgress(n.downloadRatio)})),i.on("download-finish",(function(e,n){delete t._dlUrl,"completed"===n.state?t._downloadSuccessList.push(t._downloadingPlugin):(t._downloadFailList.push(t._downloadingPlugin),console.log("download failed:"+n.state)),t.download()})),this._dialog=getDownloadDialog(),this._dialog.on("dialogbeforeclose",(function(e,n){return t._dlUrl&&i.send("cancel-download-file",t._dlUrl),!0})),this._download_bar=this._dialog.parent().find(".download-progress .download-bar"),this._download_label=this._dialog.parent().find(".download-progress .download-bar .download-label")}var t,n,a;return t=e,a=[{key:"getInstance",value:function(){return o||(o=new e),o}}],(n=[{key:"startDownload",value:function(e,t,n){var r=this;this._dlUrl=url,this._downloadList=e,this._downloadSuccessList=[],this._downloadFailList=[],this._pluginVersion=t,this._downloadingPlugin=null,this._callback=n,dataMgr.getInstance().fetchManifest((function(e,t){null!=e?(r.download(),r.show()):r._callback(null,t)}))}},{key:"download",value:function(){this._downloadingPlugin=this._downloadList.shift(),this._downloadingPlugin?(this._dlUrl=dataMgr.getInstance().getDownloadPath(this._downloadingPlugin,this._pluginVersion),this._dlUrl?i.send("download-file",this._dlUrl):(this._downloadFailList.push(this._downloadingPlugin),this.download())):0==this._downloadFailList.size()?this._callback(this._downloadSuccessList,null):this._callback(this._downloadSuccessList,"not all plugin download success")}},{key:"setProgress",value:function(e){this._download_bar.css("width",Math.floor(e)+"%"),this._download_label.html(e+"%")}},{key:"show",value:function(){this._dialog.dialog("open"),this._dialog.dialog("moveToTop")}},{key:"hiden",value:function(){this._dialog.dialog("close")}}])&&r(t.prototype,n),a&&r(t,a),e}()},9471:(e,t,n)=>{function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var c=n(8933).ipcRenderer,l=n(3688),u=n(2782),f=n(6572),d=(n(1882),n(4316)),p=n(7344),h=["ESSENTIALS","ANALYTICS","IAP OPTIMIZATION","APP STORES","AD UNITS","SOCIAL","ATTRIBUTION","PUSH NOTIFICATION","MORE"],y=function(){function e(){i(this,e),this.plugins={},this._lastLoad=0,this.sdkbox_path=l.getSdkboxBinPath()}return s(e,[{key:"load",value:function(e){var t=this;this._callback=e,p.getInstance().fetchManifest((function(e,n){t._onLoadCallback(n,e,null)}))}},{key:"_onLoadCallback",value:function(e,t,n){var r=this;try{if(e)throw new Error(e.toString());var o=t.packages,i=[];Object.keys(o).forEach((function(e){if("SDKBOX"!=e){var t=o[e];if(!t.is_library){var n={name:e,display_name:t.display_name,category:t.category,description:t.description};Object.keys(t.versions).forEach((function(e){n.version=e})),i.push(n)}}})),this.plugins={},i.forEach((function(e){var t=r.plugins[e.category];t||(t=[]),t.push(e),r.plugins[e.category]=t})),this._lastLoad=Date.now(),"function"==typeof this._callback&&(this._callback(!0),this._callback=null)}catch(e){c.send("sdkbox-event",{event:"dialog",method:"showErrorBox",args:["Download Plugins List Failed",e.toString()]}),"function"==typeof this._callback&&(this._callback(!1),this._callback=null)}}}]),e}();e.exports=function(){function e(){var t=this;i(this,e),this._dialog=getImportCocosPluginsDialog(),this._dialog.on("dialogclose",(function(){t._onClose()})),this._consoleDialog=u.getInstance(),this._queryInstallTapcoreDialog=new f,this._loaderHtml=this._dialog.find(".loader"),this._contentsHtml=this._dialog.find(".contents"),this._treeHtml=this._contentsHtml.find("> div"),this._treeComponentTpl=this._treeHtml.find(".tree-component"),this._list=new y,this.sdkbox_path=this._list.sdkbox_path}return s(e,[{key:"load",value:function(){l.isInstalled()&&this._list.load()}},{key:"open",value:function(e,t){var n=this;this._project=e,this._callback=t,this._loaderHtml.show(),this._contentsHtml.hide(),this._treeHtml.empty(),this._dialog.dialog("open"),this._list.load((function(t){t?n._updateTable(e):n._dialog.dialog("close")}))}},{key:"_onClose",value:function(){this._project=null,this._callback=null}},{key:"_updateTable",value:function(e){this._loaderHtml.hide(),this._contentsHtml.show();var t=new Map;e.plugins.forEach((function(e){t.set(e.name,e)}));var n,o=this._list.plugins,i=r(h);try{for(i.s();!(n=i.n()).done;){var a=n.value;o[a]&&this._treeHtml.append(this.genTreeComponent(a,o[a]))}}catch(e){i.e(e)}finally{i.f()}this.registerEvent()}},{key:"genTreeComponent",value:function(e,t){var n=this._treeComponentTpl.clone();n.removeClass("hidden"),n.find(".tree-header-content").html(e);var r=1;return t.forEach((function(e){var t=e.name.toString();"gpg"==t&&(t="googleplay");var o='\n            <div class="tree-item '.concat("tree-item-bg-"+r,'">\n                <span class="tree-item-content">\n                    <a href="http://docs.sdkbox.com/en/plugins/').concat(t,'">').concat(e.display_name,'</a>\n                    <span class="tree-item-content-tip">').concat(e.description,'</span>\n                </span>\n                <button class="tree-item-action">Import</button>\n            </div>\n            ');n.find(".tree-content").append($(o)),r=(r+=1)>2?1:r})),n}},{key:"registerEvent",value:function(){var e=this;this._treeHtml.find(".tree-header").on("click",(function(){var e=$(this).parent(),t=e.find(".tree-content"),n=t.is(":visible")?"-90":"0";t.toggle(100),e.find(".tree-header-icon").css({transform:"rotate("+n+"deg)"})})),this._treeHtml.find(".tree-item-action").on("click",(function(){var t=$(this).parent().find(".tree-item-content>a").get(0).firstChild.nodeValue.trim();e._onImportClick(p.getInstance().getPluginName(t),t)}))}},{key:"_onImportClick",value:function(e,t){var n=this,r=[];if(r.push(e),0!==r.length)if("tapcore"==e)this._queryInstallTapcoreDialog.open((function(e){var t=n._callback,o=n._project;n._dialog.dialog("close"),n._callback=t,n._project=o,n._selected=r,n._importPlugin(e)}));else{var o={type:"question",buttons:["Import","Cancel"],defaultId:0,title:"Confirm import selected plugins",message:"Confirm import selected plugins:",detail:t,cancelId:1},i="importPluginClickCB";c.send("sdkbox-event",{event:"dialog",method:"showMessageBox",args:[o],callback:i}),c.once(i,(function(e,t){if(0===t.response){var o=n._callback,i=n._project;n._dialog.dialog("close"),n._callback=o,n._project=i,n._selected=r,n._importPlugin()}}))}else c.send("sdkbox-event",{event:"dialog",method:"showErrorBox",args:["Warning","Please select least one plugin"]})}},{key:"_importFinish",value:function(){this._consoleDialog.enableClose();var e=this._callback;this._project=null,this._callback=null,e()}},{key:"_importPlugin",value:function(e){var t=this;p.getInstance().getInstalledPlugins(this._project.path,(function(r,o){o?c.send("sdkbox-event",{event:"dialog",method:"showErrorBox",args:["Query SDKBOX Info Failed",o]}):new d({creator_project_root:n(1793).queryParams().project,plugins:t._selected,project:t._project.path,cmd:"import",installedPlugins:Object.keys(r),tapcore_token:e}).show()}))}}]),e}()},4316:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(1793),i=n(2087),a=n(5622),s=n(5747),c=n(8933).ipcRenderer;n(6119);var l,u=n(1838),f=n(7344),d=n(3688);e.exports=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,"installer"in this.options&&(this.options.installer=!1),this.sdkbox_path=d.getSdkboxBinPath(),this._enableClose=!1,this._dialog||(this._dialog=getInstallSdkboxPluginsDialog(),this._dialog.on("dialogbeforeclose",(function(e,t){return n._enableClose})),this._downloads=this._dialog.find(".download-plugin-list"),this._downloadItemTemplate=this._downloads.find(".download-plugin-item.hidden"),this._documents=this._dialog.find(".plugin-document-list"),this._documentItemTemplate=this._documents.find(".plugin-document-item.hidden"),this._cliOutput=this._dialog.find(".import-cli-output"),this._buttonCancel=this._dialog.parent().find(".ui-dialog-buttonset button"),this._downloadItemTemplate.detach(),this._documentItemTemplate.detach(),this.registerDownloadEvent()),this.clear(),f.getInstance().fetchManifest((function(e,t){t||(n.resetDownloadItems(n.options.plugins,n.options.installer),n.resetDialog(),n.enableClose(),n._buttonCancel.addClass("ui-state-active"),n.tryInstall(),n.downloadNext())}))}var t,n,p;return t=e,n=[{key:"show",value:function(){this._dialog.dialog("open"),this._dialog.dialog("moveToTop")}},{key:"close",value:function(){this._dialog.dialog("close")}},{key:"enableClose",value:function(){this._enableClose=!0,this._buttonCancel.button("enable")}},{key:"disableClose",value:function(){this._enableClose=!1,this._buttonCancel.button("disable")}},{key:"clear",value:function(){this._buttonCancel.text("Cancel"),this._downloads.empty(),this._downloads.append(this._downloadItemTemplate),this._documents.empty(),this._documents.append(this._documentItemTemplate),this._cliOutput.empty()}},{key:"appendDependency",value:function(e){var t=f.getInstance().getDependency(e);return t=t.concat(e),t=o.arrayUnique(t)}},{key:"resetDownloadItems",value:function(e,t){var n=this.appendDependency(e),r=[];for(var o in t&&r.push({name:"Installer",bundle:f.getInstance().getInstallerPath(),status:"pending"}),n){var i=n[o],a=f.getInstance().getDownloadPath(i,"v3");null!=a&&r.push({name:i,display_name:f.getInstance().getDisplayName(i),bundle:a,status:this.checkPluginValid(a)})}this._installItems=r}},{key:"checkPluginValid",value:function(e){var t=e.bundle.split("/").pop(),n=a.join(i.homedir(),".sdkbox","plugins",t);if(s.existsSync(n))return"ready";n=n.slice(0,-7);var r=null;try{r=s.statSync(n)}catch(e){r=null}return r&&r.isDirectory()?"ready":"pending"}},{key:"resetDialog",value:function(){for(var e in this._installItems){var t=this._installItems[e],n=this._downloadItemTemplate.clone();if(n.removeClass("hidden"),n.find(".download-plugin-name").html(t.display_name),n.find(".download-plugin-status").html(t.status),"ready"==t.status&&(n.find(".download-plugin-bar").css("width","100%"),n.find(".download-plugin-label").html("100%")),this._downloads.append(n),"installer"!==t.name.toLowerCase()&&"googleplayservices"!==t.name){var r=this._documentItemTemplate.clone();r.removeClass("hidden"),r.find(".plugin-document-item-name").html(t.display_name);var o=t.name.toLowerCase();r.find(".plugin-document-item-docs").attr("href","http://docs.sdkbox.com/en/plugins/"+o),r.find(".plugin-document-item-sample").attr("href","https://github.com/sdkbox/sdkbox-sample-"+o),this._documents.append(r)}}}},{key:"changeItemStatus",value:function(e,t,n){for(var r=this._downloads.children().length-1;r>=0;r--){var o=this._downloads.children().eq(r),i=o.find(".download-plugin-name").text();if(this.compareCaseInsensitive(e,i)){t&&(t<1&&(t=1),o.find(".download-plugin-bar").css("width",Math.floor(t)+"%"),o.find(".download-plugin-label").html(Math.floor(t)+"%")),n&&o.find(".download-plugin-status").html(n);break}}}},{key:"compareCaseInsensitive",value:function(e,t){return e.toLowerCase()===t.toLowerCase()}},{key:"showlog",value:function(e){this._cliOutput.append($("<div>").html(e))}},{key:"registerDownloadEvent",value:function(){var e=this;c.on("download-status",(function(t,n){"interrupted"===n.state?(e.setDownloadItemStatus(n.url,null,"download failed"),e.downloadNext()):"progressing"===n.state&&e.setDownloadItemStatus(n.url,n.downloadRatio,"downloading")})),c.on("download-finish",(function(t,n){delete e._dlUrl,"completed"===n.state?(e.setDownloadItemStatus(n.url,100,"downloading"),e.moveDownloadFile(n.url)):(e.setDownloadItemStatus(n.url,null,"download failed"),console.log("download failed:"+n.state),e.tryInstall()),e.downloadNext()}))}},{key:"downloadNext",value:function(){var e=this.findFirstItem("pending");e?e!=this._downloadingItem&&(this._downloadingItem=e,this.showlog("Begin download ".concat(e.bundle.bundle)),c.send("download-file",e.bundle.bundle)):this.disableClose()}},{key:"findFirstItem",value:function(e){for(var t in this._installItems){var n=this._installItems[t];if(e==n.status)return n}}},{key:"setDownloadItemStatus",value:function(e,t,n){for(var r in this._installItems){var o=this._installItems[r];if(this.compareCaseInsensitive(e,o.bundle.bundle)||this.compareCaseInsensitive(e,o.name)){n&&(o.status=n),this.changeItemStatus(o.display_name,t,n);break}}}},{key:"moveDownloadFile",value:function(e){var t=this,n=e.split("/").pop(),r=a.join(i.homedir(),".sdkbox","temp",n),o=a.join(i.homedir(),".sdkbox","plugins",n);try{s.rename(r,o,(function(){t.setDownloadItemStatus(e,null,"ready"),t.tryInstall()}))}catch(t){this.setDownloadItemStatus(e,null,"download failed"),this.tryInstall()}}},{key:"tryInstall",value:function(){var e=this.findFirstItem("pending");e||(e=this.findFirstItem("downloading"))||this.installNext()}},{key:"installNext",value:function(){var e=this.findFirstItem("ready");if(!e)return this._buttonCancel.text("Finish"),this.enableClose(),f.getInstance().getInstalledPlugins(this.options.project,null,!0),void this.showlog("Install Finish");this.showlog("Begin install ".concat(e.name)),this.installPlugin(e.name)}},{key:"installPlugin",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"import";if(null!=this.options.project)if(this.sdkbox_path){var r=u.getInstance(),o="sdkbox import "+this.options.project;if(!r.query(o)){this.setDownloadItemStatus(e,null,"installing");var i=[this.sdkbox_path,"--alwaysupdate","--nohelp","--runin","gui-creator","-s","main",n,e];e in this.options.installedPlugins&&(i.push("--forcecopy"),i.push("--nopatching")),f.getInstance().isStaging()&&i.push("--staging"),"tapcore"==e&&(i.push("--apitoken"),i.push(this.options.tapcore_token));var a=f.getInstance().getProjectByPath(this.options.project);if(a){if(!a.isXcodeProjectEnable()&&!a.isAndroidProjectEnable())return;var s=a.getSelectXcodeProject();a.isXcodeProjectEnable()&&s&&(i.push("--projectpath"),i.push(s)),s=a.getSelectAndroidProject(),a.isAndroidProjectEnable()&&s&&(i.push("--projectpath"),i.push(s))}var c={tag:o,cwd:this.options.project};this.showlog("> "+i.join(" ")),r.exec(i,c,{stdout:function(e){t.showlog(e.toString())},stderr:function(e){t.showlog(e.toString())},exit:function(r,o){t.setDownloadItemStatus(e,null,"success"),t.showlog(""),t.showlog("-----------------------------------"),t.showlog(""),t.installNext(),"import"==n&&t.installDTS(e)},error:function(n,r,o){t.setDownloadItemStatus(e,null,"install failed"),t.showlog(n.toString()),t.installNext()}})}}else this.showlog("Error! Can not find SDKBox installer");else this.showlog("Error! Project path is null")}},{key:"installDTS",value:function(e){var t=f.getInstance().getPluginPath(e),n=a.join(t,"plugin","jsbindings");if(o.isDir(n))for(var r=s.readdirSync(n).filter((function(e){return e.endsWith(".d.ts")})),i=this.options.creator_project_root,c=r.length-1;c>=0;c--)o.copy(a.join(n,r[c]),a.join(i,"sdkbox","js","assist"))}}],p=[{key:"getInstance",value:function(){return l||(l=new e),l}}],n&&r(t.prototype,n),p&&r(t,p),e}()},9492:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o="win32"===n(2087).platform()?"\\":"/";e.exports=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=null;if("string"==typeof t){var i=(t=t.toString()).charAt(t.length-1);"/"!==i&&"\\"!==i||(t=t.substring(0,t.length-2)),r=t.substring(t.lastIndexOf(o)+1)}else r=t.projectName,t=t.projectPath;this._name=r,this._path=t,this._engine=n,this._icon=""}var t,n,i;return t=e,(n=[{key:"validate",value:function(){return!1}},{key:"name",get:function(){return this._name}},{key:"path",get:function(){return this._path}},{key:"engine",get:function(){return this._engine}},{key:"icon",get:function(){return this._icon}}])&&r(t.prototype,n),i&&r(t,i),e}()},7601:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(2357);e.exports=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=new Map,this._projectClass=t}var t,n,i;return t=e,(n=[{key:"add",value:function(e){var t=new this._projectClass(e);if(!t.validate())throw new Error('This is path "'.concat(e,'" is not project'));if(this._items.has(t.path))throw new Error('This path "'.concat(e,'" already imported'));return this._items.set(t.path,t),t}},{key:"remove",value:function(e){o(this._items.has(e)),this._items.delete(e)}},{key:"get",value:function(e){return o(this._items.has(e)),this._items.get(e)}},{key:"first",value:function(){return this._items.values().next().value}},{key:"clear",value:function(){this._items.clear()}},{key:"count",value:function(){return this._items.size}}])&&r(t.prototype,n),i&&r(t,i),e}()},6572:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._dialog=getQueryInstallTapCoreDialog(),this._dialog.on("dialogclose",(function(){t._onClose()})),this._dialog.wrapper=this}var n,r,o;return n=e,(r=[{key:"open",value:function(e){this._callback=e,this._dialog.dialog("open"),this._token=this._dialog.find(".tapcore-token")}},{key:"import",value:function(){var e=this._token.val();void 0!==e&&0!=e.length?(this._callback&&this._callback(e),this._dialog.dialog("close")):alert("you must fill tapcore token before install tapcore")}},{key:"_onClose",value:function(){this._callback=null}}])&&t(n.prototype,r),o&&t(n,o),e}()},3688:(e,t,n)=>{var r=n(2087),o=n(5622),i=n(5747),a=(n(1765),n(8933).ipcRenderer),s=n(1838),c=n(2782);function l(e){var t=o.join(r.homedir(),".sdkbox","bin","sdkbox"),n=null;try{n=i.statSync(t)}catch(e){n=null}return!!n&&n.isFile()}t.installIf=function(){l()||function(){var e=s.getInstance(),t="install sdkbox";if(e.query(t))return;var n=c.getInstance();n.open(),n.disableClose(),n.clear(),n.log("Prepare to install SDKBox Installer, please wait...");var r=["python","-c","import urllib; s = urllib.urlopen('https://raw.githubusercontent.com/sdkbox-doc/en/master/install/install.py').read(); exec s"];e.exec(r,{tag:t},{stdout:function(e){n.log(e.toString())},stderr:function(e){n.log(e.toString())},exit:function(e,t){n.enableClose()},error:function(e,t,r){n.log(e.toString());var o="\n\nInstall SDKBox installer failed.\nPlease tell us at (http://www.sdkbox.com/answers/)";n.log(o)}})}()},t.getSdkboxBinPath=function(){var e=o.join(r.homedir(),".sdkbox","bin","sdkbox");if(e)return"win32"==r.platform()?e+".bat":e;a.send("sdkbox-event",{event:"dialog",method:"showErrorBox",args:["SDKBox installer not found","can't found installer at ~/.sdkbox/bin"]})},t.getSdkboxPluginsPath=function(e){var t=o.join(r.homedir(),".sdkbox","plugins");return e?o.join(t,e):t},t.isInstalled=l},1793:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(5747),i=n(2087),a=n(1890),s=n(5622);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,c;return t=e,c=[{key:"arrayUnique",value:function(e){for(var t=0;t<e.length;++t)for(var n=t+1;n<e.length;++n)e[t]===e[n]&&e.splice(n--,1);return e}},{key:"queryParams",value:function(){var e={};if("undefined"==typeof window)return"";for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var r=t[n].split("=");if(void 0===e[r[0]])e[r[0]]=decodeURIComponent(r[1]);else if("string"==typeof e[r[0]]){var o=[e[r[0]],decodeURIComponent(r[1])];e[r[0]]=o}else e[r[0]].push(decodeURIComponent(r[1]))}return e}},{key:"isFile",value:function(e){var t=null;try{t=o.statSync(e)}catch(e){t=null}return!!t&&t.isFile()}},{key:"isDir",value:function(e){var t=null;try{t=o.statSync(e)}catch(e){t=null}return!!t&&t.isDirectory()}},{key:"exist",value:function(e){var t=null;try{t=o.statSync(e)}catch(e){t=null}return!!t}},{key:"makedir",value:function(e){var t=null;try{t=o.statSync(e)}catch(e){t=null}t&&!t.isDirectory()||a.sync(e)}},{key:"copy",value:function(t,n){e.makedir(n);var r=s.join(n,s.basename(t));o.createReadStream(t).pipe(o.createWriteStream(r))}},{key:"getSdkboxBinPath",value:function(){var e=s.join(i.homedir(),".sdkbox","bin","sdkbox");return"win32"==i.platform()?e+".bat":e}},{key:"isSdkboxInstalled",value:function(){var e=s.join(i.homedir(),".sdkbox","bin","sdkbox"),t=null;try{t=o.statSync(e)}catch(e){t=null}return!!t&&t.isFile()}}],(n=null)&&r(t.prototype,n),c&&r(t,c),e}()},6119:function(){(function(){var e=[].slice;String.prototype.autoLink=function(){var t,n,r,o,i,a;return i=/(^|[\s\n]|<[A-Za-z]*\/?>)((?:https?|ftp):\/\/[\-A-Z0-9+\u0026\u2019@#\/%?=()~_|!:,.;]*[\-A-Z0-9+\u0026@#\/%=~()_|])/gi,0<(o=1<=arguments.length?e.call(arguments,0):[]).length?(r=o[0],n=function(){var e;for(t in e=[],r)a=r[t],"callback"!==t&&e.push(" "+t+"='"+a+"'");return e}().join(""),this.replace(i,(function(e,t,o){return""+t+(("function"==typeof r.callback?r.callback(o):void 0)||"<a href='"+o+"'"+n+">"+o+"</a>")}))):this.replace(i,"$1<a href='$2'>$2</a>")}}).call(this)},7182:(e,t)=>{var n=$("#contents"),r=$("#tabbar li");function o(e){n.find("div.tab-contents").addClass("hidden"),n.find("div#tab-"+e).removeClass("hidden"),n.find("div#tab-"+e).focus(),r.removeClass("selected"),$("#tabbar li[tag="+e+"]").addClass("selected")}r.each((function(e,t){$(t).on("click",(function(e){var t=$(e.target);t.hasClass("selected")||o(t.attr("tag"))}))})),t.select_tab=o},6709:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i,a=n(3129);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._process=new Map}var t,n,s;return t=e,s=[{key:"getInstance",value:function(){return i||(i=new e),i}}],(n=[{key:"exec",value:function(e,t,n){this._nextId++;var o=e.shift(),i=t.tag;delete t.tag,t.shell=!0;var s=a.spawn(o,e,t);console.log("[CLI] spawn (".concat(s.pid,"): ").concat(o," ").concat(e.join(" ")));var c=this._process;c.set(i,s);var l=[],u=[];s.stdout.on("data",(function(e){l.push(e),"object"===r(n)&&n.stdout(e)})),s.stderr.on("data",(function(e){u.push(e),"object"===r(n)&&n.stderr(e)})),s.on("error",(function(e){c.has(i)&&c.delete(i),"object"===r(n)?n.error(e,l.join(""),u.join("")):"function"==typeof n&&n(e,l.join(""),u.join(""))})),s.on("exit",(function(e,t){t=t||"",console.log("[CLI] exit (".concat(s.pid,") ").concat(e," ").concat(t)),c.has(i)&&c.delete(i),"object"===r(n)?n.exit(l.join(""),u.join("")):"function"==typeof n&&n(null,l.join(""),u.join(""))}))}},{key:"kill",value:function(e){if(this._process.has(e)){var t=this._process[e];t&&t.kill(),this._process.delete(e)}}},{key:"query",value:function(e){return this._process.has(e)}}])&&o(t.prototype,n),s&&o(t,s),e}()},2584:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,i=n(2087),a=n(5747),s=n(5622),c=n(1890);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=i.homedir();this._path=s.join(t,".sdkbox","conf","gui.json")}var t,n,l;return t=e,l=[{key:"getInstance",value:function(){return o||(o=new e),o}}],(n=[{key:"load",value:function(){try{var e=a.readFileSync(this._path);return JSON.parse(e)}catch(e){return console.log(e.toString()),null}}},{key:"save",value:function(e){var t=JSON.stringify(e),n=s.dirname(this._path),r=null;try{r=a.statSync(n)}catch(e){r=null}r&&!r.isDirectory()||c.sync(s.dirname(this._path)),a.writeFileSync(this._path,t)}}])&&r(t.prototype,n),l&&r(t,l),e}()},7903:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(2087),i=n(5622),a=n(5747),s=n(5233),c=n(8605),l=n(7766),u=n(6709),f=n(9996),d=null,p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,p;return t=e,p=[{key:"checkPython",value:function(e){var t=u.getInstance(),n="check python";if(!t.query(n)){var r={tag:n};t.exec(["python","--version"],r,{stdout:function(e){},stderr:function(e){},exit:function(t,n){n&&n.includes("Python 2.7")?e("success"):e("failed","Python 2.7 is not installed")},error:function(t,n,r){e("failed","Python 2.7 is not installed")}})}}},{key:"installerInstalled",value:function(){var e=i.join(o.homedir(),".sdkbox","bin","sdkbox"),t=null;try{t=a.statSync(e)}catch(e){t=null}return!!t&&t.isFile()}},{key:"needUpdate",value:function(){var e=i.join(o.homedir(),".sdkbox","creator","data","info.json");try{var t=a.readFileSync(e),n=JSON.parse(t);return n.version.installer.local!=n.version.installer.remote||n.version.gui.local!=n.version.gui.remote}catch(e){return!0}}},{key:"loadVersions",value:function(){e.loadLocalInstallerVersion(),e.loadLocalGUIVersion(),e.loadRemoteInstallerVersion(),e.loadRemoteGUIVersion()}},{key:"loadRemoteVersions",value:function(){e.loadRemoteInstallerVersion(),e.loadRemoteGUIVersion()}},{key:"loadLocalInstallerVersion",value:function(){var t=u.getInstance(),n="sdkbox version";if(!t.query(n)){var r=[e.getInstallerPath(),"--local","--jsonapi","version"],o={tag:n};t.exec(r,o,{stdout:function(t){try{var n={version:{installer:{local:JSON.parse(t).version}}};e.mergeAndSaveVersions(n)}catch(e){console.log("loadLocalInstallerVersion:"+e)}},stderr:function(e){},exit:function(e,t){},error:function(e,t,n){}})}}},{key:"loadRemoteInstallerVersion",value:function(){var t="".concat(e.getDownloadHost(),"installer/v1/manifest.json");e.getJson(t,(function(t,n){if(n)console.log(n);else if(t){var r={version:{installer:{remote:Object.keys(t.packages.SDKBOX.versions)[0]}}};e.mergeAndSaveVersions(r)}}))}},{key:"loadLocalGUIVersion",value:function(){var t=i.join(o.homedir(),".sdkbox","creator","app","package.json");s.readJson(t).then((function(t){var n={version:{gui:{local:t.version}}};e.mergeAndSaveVersions(n)})).catch((function(e){}))}},{key:"loadRemoteGUIVersion",value:function(){var t="".concat(e.getDownloadHost(),"gui/creator/version");e.getJson(t,(function(t,n){if(n)console.log(n);else if(t){var r={version:{gui:{remote:t.version}}};e.mergeAndSaveVersions(r)}}))}},{key:"mergeAndSaveVersions",value:function(t,n){var r=i.join(o.homedir(),".sdkbox","creator","data","info.json");n&&(r=n),s.pathExists(r).then((function(n){if(n)s.readJson(r).then((function(n){var o=JSON.stringify(f(n,t));e.saveToFile(r,o)})).catch((function(e){console.error(e)}));else{var o=JSON.stringify(t);e.saveToFile(r,o)}})).catch((function(e){console.log(e)}))}},{key:"installInstaller",value:function(e){var t=u.getInstance(),n="install sdkbox";if(!t.query(n)){var r={tag:n};t.exec(["python","-c","import urllib; s = urllib.urlopen('https://raw.githubusercontent.com/sdkbox-doc/en/master/install/install.py').read(); exec s"],r,{stdout:function(t){e("loading")},stderr:function(e){},exit:function(t,n){e("success")},error:function(t,n,r){e("failed","install SDKBox Installer failed")}})}}},{key:"installInstallerIf",value:function(e){installerInstalled()||installInstaller(e)}},{key:"updateInstaller",value:function(t){var n=u.getInstance(),r="sdkbox version";if(!n.query(r)){var o=[e.getInstallerPath(),"--alwaysupdate","--nohelp","version"],i={tag:r};n.exec(o,i,{stdout:function(e){t("loading")},stderr:function(e){},exit:function(e,n){t("success")},error:function(e,n,r){t("failed","update SDKBox Installer failed")}})}}},{key:"getInstallerPath",value:function(){var t=i.join(o.homedir(),".sdkbox","bin","sdkbox");return"win32"==o.platform()&&(t+=".bat"),e.fileExist(t)?t:null}},{key:"getSdkboxPluginsPath",value:function(e){var t=i.join(o.homedir(),".sdkbox","plugins");return e?i.join(t,e):t}},{key:"updateGUIMod",value:function(t,n,r){var c=i.join(o.homedir(),".sdkbox","temp",n);e.downloadFile(t,c,(function(t,n){if(n)r("failed",n);else{var u=i.join(o.homedir(),".sdkbox","temp"),f=null;l.open(c,{lazyEntries:!0,decodeStrings:!1},(function(t,n){t?r("failed",t):(n.readEntry(),n.on("error",(function(e){f=e})),n.on("entry",(function(e){var t=e.fileName.toString("utf8");/\/$/.test(e.fileName)?s.ensureDir(i.join(u,t),(function(e){e?f=e:n.readEntry()})):n.openReadStream(e,(function(e,r){e?f=e:(r.on("end",(function(){n.readEntry()})),r.pipe(s.createWriteStream(i.join(u,t))))}))})),n.on("end",(function(){if(f)r("failed",f);else{var t=i.join(u,"sdkbox","app"),n=i.join(o.homedir(),".sdkbox","creator","app");e.deleteFolderRecursive(n);var s=a.renameSync(t,n);if(s)return void r("failed",s.message);if(t=i.join(u,"sdkbox","package.json"),n=i.join(o.homedir(),".sdkbox","creator","app","package.json"),e.deleteFolderRecursive(n),s=a.renameSync(t,n))return void r("failed",s.message);r("success")}})))}))}}))}},{key:"downloadFile",value:function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;s.remove(n).then((function(){return s.ensureDir(i.dirname(n))})).then((function(){var i=s.createWriteStream(n);i.on("open",(function(){c.get(t,(function(t){var a=t.statusCode;t.headers["content-type"],302==a&&o<4&&t.headers.location?e.downloadFile(t.headers.location,n,r,o+1):200===a?(t.pipe(i),t.on("end",(function(){i.close(),r(n,null)}))):r(null,"status code:".concat(a))})).on("error",(function(e){console.log(e),a.unlink(n),r(null,e.message)}))})),i.on("error",(function(e){console.log(e)}))})).catch((function(e){r(null,e.message)}))}},{key:"saveToFile",value:function(e,t){var n=i.dirname(e);s.ensureDir(n).then((function(){a.writeFileSync(e,t)}))}},{key:"fileExist",value:function(e){var t;try{t=a.statSync(e)}catch(e){t=null}return!!t&&t.isFile()}},{key:"getJson",value:function(e,t){c.get(e,(function(e){var n=e.statusCode;if(e.headers["content-type"],200===n){e.setEncoding("utf8");var r="";e.on("data",(function(e){r+=e})),e.on("end",(function(){try{var e=JSON.parse(r);t(e,null)}catch(e){t(null,e.message)}}))}else t(null,"status code:".concat(n))})).on("error",(function(e){t(null,e.message)}))}},{key:"compareVersions",value:function(e,t){if(null==e&&null==t)return 0;if(null==e)return-1;if(null==t)return 1;for(var n=e.replace(/^v/,"").split("."),r=t.replace(/^v/,"").split("."),o=Math.min(n.length,r.length),i=0;i<o;i++){var a=parseInt(n[i]||0,10),s=parseInt(r[i]||0,10);if(a>s)return 1;if(s>a)return-1}if(n.length>o)for(var c=o;c<n.length;c++)if(0!=parseInt(n[c]||0,10))return 1;if(r.length>o)for(var l=o;l<r.length;l++)if(0!=parseInt(r[l]||0,10))return-1;return 0}},{key:"readJsonFromFile",value:function(e){try{var t=a.readFileSync(e);if(t)return JSON.parse(t)}catch(e){}return null}},{key:"writeJsonToFile",value:function(e,t){a.writeFileSync(e,JSON.stringify(t,0,4))}},{key:"getProjectRoot",value:function(){return null==d&&Editor.Project&&Editor.Project.path&&(d=Editor.Project.path),null==d&&Editor.projectInfo&&Editor.projectInfo.path&&(d=Editor.projectInfo.path),d}},{key:"getDownloadHost",value:function(){return"http://download.sdkbox.com/"}},{key:"deleteFolderRecursive",value:function(t){a.existsSync(t)&&(a.lstatSync(t).isDirectory()?(a.readdirSync(t).forEach((function(n,r){var o=i.join(t,n);e.deleteFolderRecursive(o)})),a.rmdirSync(t)):a.unlinkSync(t))}}],(n=null)&&r(t.prototype,n),p&&r(t,p),e}();e.exports=p},2779:(e,t,n)=>{var r=n(4293).Buffer,o=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function i(e){if(r.isBuffer(e))return e;var t="function"==typeof r.alloc&&"function"==typeof r.from;if("number"==typeof e)return t?r.alloc(e):new r(e);if("string"==typeof e)return t?r.from(e):new r(e);throw new Error("input must be buffer, number, or string, received "+typeof e)}function a(e){var t=i(4);return t.writeInt32BE(e,0),t}function s(e,t){e=i(e),r.isBuffer(t)&&(t=t.readUInt32BE(0));for(var n=-1^~~t,a=0;a<e.length;a++)n=o[255&(n^e[a])]^n>>>8;return-1^n}function c(){return a(s.apply(null,arguments))}"undefined"!=typeof Int32Array&&(o=new Int32Array(o)),c.signed=function(){return s.apply(null,arguments)},c.unsigned=function(){return s.apply(null,arguments)>>>0},e.exports=c},9996:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?c((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function o(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function i(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function a(e,t){try{return t in e}catch(e){return!1}}function s(e,t,n){var o={};return n.isMergeableObject(e)&&i(e).forEach((function(t){o[t]=r(e[t],n)})),i(t).forEach((function(i){(function(e,t){return a(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(a(e,i)&&n.isMergeableObject(t[i])?o[i]=function(e,t){if(!t.customMerge)return c;var n=t.customMerge(e);return"function"==typeof n?n:c}(i,n)(e[i],t[i],n):o[i]=r(t[i],n))})),o}function c(e,n,i){(i=i||{}).arrayMerge=i.arrayMerge||o,i.isMergeableObject=i.isMergeableObject||t,i.cloneUnlessOtherwiseSpecified=r;var a=Array.isArray(n);return a===Array.isArray(e)?a?i.arrayMerge(e,n,i):s(e,n,i):r(n,i)}c.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return c(e,n,t)}),{})};var l=c;e.exports=l},8913:(e,t,n)=>{var r=n(5747),o=n(1669),i=n(2413),a=i.Readable,s=i.Writable,c=i.PassThrough,l=n(9916),u=n(8614).EventEmitter;function f(e,t){t=t||{},u.call(this),this.fd=e,this.pend=new l,this.pend.max=1,this.refCount=0,this.autoClose=!!t.autoClose}function d(e,t){t=t||{},a.call(this,t),this.context=e,this.context.ref(),this.start=t.start||0,this.endOffset=t.end,this.pos=this.start,this.destroyed=!1}function p(e,t){t=t||{},s.call(this,t),this.context=e,this.context.ref(),this.start=t.start||0,this.endOffset=null==t.end?1/0:+t.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}function h(e,t){u.call(this),t=t||{},this.refCount=0,this.buffer=e,this.maxChunkSize=t.maxChunkSize||Number.MAX_SAFE_INTEGER}t.createFromBuffer=function(e,t){return new h(e,t)},t.createFromFd=function(e,t){return new f(e,t)},t.BufferSlicer=h,t.FdSlicer=f,o.inherits(f,u),f.prototype.read=function(e,t,n,o,i){var a=this;a.pend.go((function(s){r.read(a.fd,e,t,n,o,(function(e,t,n){s(),i(e,t,n)}))}))},f.prototype.write=function(e,t,n,o,i){var a=this;a.pend.go((function(s){r.write(a.fd,e,t,n,o,(function(e,t,n){s(),i(e,t,n)}))}))},f.prototype.createReadStream=function(e){return new d(this,e)},f.prototype.createWriteStream=function(e){return new p(this,e)},f.prototype.ref=function(){this.refCount+=1},f.prototype.unref=function(){var e=this;if(e.refCount-=1,!(e.refCount>0)){if(e.refCount<0)throw new Error("invalid unref");e.autoClose&&r.close(e.fd,(function(t){t?e.emit("error",t):e.emit("close")}))}},o.inherits(d,a),d.prototype._read=function(e){var t=this;if(!t.destroyed){var n=Math.min(t._readableState.highWaterMark,e);if(null!=t.endOffset&&(n=Math.min(n,t.endOffset-t.pos)),n<=0)return t.destroyed=!0,t.push(null),void t.context.unref();t.context.pend.go((function(e){if(t.destroyed)return e();var o=new Buffer(n);r.read(t.context.fd,o,0,n,t.pos,(function(n,r){n?t.destroy(n):0===r?(t.destroyed=!0,t.push(null),t.context.unref()):(t.pos+=r,t.push(o.slice(0,r))),e()}))}))}},d.prototype.destroy=function(e){this.destroyed||(e=e||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",e),this.context.unref())},o.inherits(p,s),p.prototype._write=function(e,t,n){var o=this;if(!o.destroyed){if(o.pos+e.length>o.endOffset){var i=new Error("maximum file length exceeded");return i.code="ETOOBIG",o.destroy(),void n(i)}o.context.pend.go((function(t){if(o.destroyed)return t();r.write(o.context.fd,e,0,e.length,o.pos,(function(e,r){e?(o.destroy(),t(),n(e)):(o.bytesWritten+=r,o.pos+=r,o.emit("progress"),t(),n())}))}))}},p.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())},o.inherits(h,u),h.prototype.read=function(e,t,n,r,o){var i=r+n,a=i-this.buffer.length,s=a>0?a:n;this.buffer.copy(e,t,r,i),setImmediate((function(){o(null,s)}))},h.prototype.write=function(e,t,n,r,o){e.copy(this.buffer,r,t,t+n),setImmediate((function(){o(null,n,e)}))},h.prototype.createReadStream=function(e){var t=new c(e=e||{});t.destroyed=!1,t.start=e.start||0,t.endOffset=e.end,t.pos=t.endOffset||this.buffer.length;for(var n=this.buffer.slice(t.start,t.pos),r=0;;){var o=r+this.maxChunkSize;if(o>=n.length){r<n.length&&t.write(n.slice(r,n.length));break}t.write(n.slice(r,o)),r=o}return t.end(),t.destroy=function(){t.destroyed=!0},t},h.prototype.createWriteStream=function(e){var t=this,n=new s(e=e||{});return n.start=e.start||0,n.endOffset=null==e.end?this.buffer.length:+e.end,n.bytesWritten=0,n.pos=n.start,n.destroyed=!1,n._write=function(e,r,o){if(!n.destroyed){var i=n.pos+e.length;if(i>n.endOffset){var a=new Error("maximum file length exceeded");return a.code="ETOOBIG",n.destroyed=!0,void o(a)}e.copy(t.buffer,n.pos,0,e.length),n.bytesWritten+=e.length,n.pos=i,n.emit("progress"),o()}},n.destroy=function(){n.destroyed=!0},n},h.prototype.ref=function(){this.refCount+=1},h.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")}},6458:e=>{"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:e.__proto__};else t=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}},77:(e,t,n)=>{var r,o,i=n(5747),a=n(2161),s=n(8520),c=n(6458),l=n(1669);"function"==typeof Symbol&&"function"==typeof Symbol.for?(r=Symbol.for("graceful-fs.queue"),o=Symbol.for("graceful-fs.previous")):(r="___graceful-fs.queue",o="___graceful-fs.previous");var u=function(){};if(l.debuglog?u=l.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(u=function(){var e=l.format.apply(l,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!global[r]){var f=[];Object.defineProperty(global,r,{get:function(){return f}}),i.close=function(e){function t(t,n){return e.call(i,t,(function(e){e||h(),"function"==typeof n&&n.apply(this,arguments)}))}return Object.defineProperty(t,o,{value:e}),t}(i.close),i.closeSync=function(e){function t(t){e.apply(i,arguments),h()}return Object.defineProperty(t,o,{value:e}),t}(i.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){u(global[r]),n(2357).equal(global[r].length,0)}))}function d(e){a(e),e.gracefulify=d,e.createReadStream=function(t,n){return new e.ReadStream(t,n)},e.createWriteStream=function(t,n){return new e.WriteStream(t,n)};var t=e.readFile;e.readFile=function(e,n,r){"function"==typeof n&&(r=n,n=null);return function e(n,r,o){return t(n,r,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof o&&o.apply(this,arguments),h()):p([e,[n,r,o]])}))}(e,n,r)};var n=e.writeFile;e.writeFile=function(e,t,r,o){"function"==typeof r&&(o=r,r=null);return function e(t,r,o,i){return n(t,r,o,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof i&&i.apply(this,arguments),h()):p([e,[t,r,o,i]])}))}(e,t,r,o)};var r=e.appendFile;r&&(e.appendFile=function(e,t,n,o){"function"==typeof n&&(o=n,n=null);return function e(t,n,o,i){return r(t,n,o,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof i&&i.apply(this,arguments),h()):p([e,[t,n,o,i]])}))}(e,t,n,o)});var o=e.readdir;function i(t){return o.apply(e,t)}if(e.readdir=function(e,t,n){var r=[e];"function"!=typeof t?r.push(t):n=t;return r.push((function(e,t){t&&t.sort&&t.sort();!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof n&&n.apply(this,arguments),h()):p([i,[r]])})),i(r)},"v0.8"===process.version.substr(0,4)){var c=s(e);f=c.ReadStream,y=c.WriteStream}var l=e.ReadStream;l&&(f.prototype=Object.create(l.prototype),f.prototype.open=function(){var e=this;v(e.path,e.flags,e.mode,(function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())}))});var u=e.WriteStream;function f(e,t){return this instanceof f?(l.apply(this,arguments),this):f.apply(Object.create(f.prototype),arguments)}function y(e,t){return this instanceof y?(u.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}u&&(y.prototype=Object.create(u.prototype),y.prototype.open=function(){var e=this;v(e.path,e.flags,e.mode,(function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return f},set:function(e){f=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return y},set:function(e){y=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"FileReadStream",{get:function(){return f},set:function(e){f=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"FileWriteStream",{get:function(){return y},set:function(e){y=e},enumerable:!0,configurable:!0});var m=e.open;function v(e,t,n,r){return"function"==typeof n&&(r=n,n=null),function e(t,n,r,o){return m(t,n,r,(function(i,a){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?("function"==typeof o&&o.apply(this,arguments),h()):p([e,[t,n,r,o]])}))}(e,t,n,r)}return e.open=v,e}function p(e){u("ENQUEUE",e[0].name,e[1]),global[r].push(e)}function h(){var e=global[r].shift();e&&(u("RETRY",e[0].name,e[1]),e[0].apply(null,e[1]))}e.exports=d(c(i)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!i.__patched&&(e.exports=d(i),i.__patched=!0)},8520:(e,t,n)=>{var r=n(2413).Stream;e.exports=function(e){return{ReadStream:function t(n,o){if(!(this instanceof t))return new t(n,o);r.call(this);var i=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,o=o||{};for(var a=Object.keys(o),s=0,c=a.length;s<c;s++){var l=a[s];this[l]=o[l]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){i._read()}));e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return i.emit("error",e),void(i.readable=!1);i.fd=t,i.emit("open",t),i._read()}))},WriteStream:function t(n,o){if(!(this instanceof t))return new t(n,o);r.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,o=o||{};for(var i=Object.keys(o),a=0,s=i.length;a<s;a++){var c=i[a];this[c]=o[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},2161:(e,t,n)=>{var r=n(7619),o=process.cwd,i=null,a=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return i||(i=o.call(process)),i};try{process.cwd()}catch(e){}var s=process.chdir;process.chdir=function(e){i=null,s.call(process,e)},e.exports=function(e){r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,o){e.open(t,r.O_WRONLY|r.O_SYMLINK,n,(function(t,r){t?o&&o(t):e.fchmod(r,n,(function(t){e.close(r,(function(e){o&&o(t||e)}))}))}))},e.lchmodSync=function(t,n){var o,i=e.openSync(t,r.O_WRONLY|r.O_SYMLINK,n),a=!0;try{o=e.fchmodSync(i,n),a=!1}finally{if(a)try{e.closeSync(i)}catch(e){}else e.closeSync(i)}return o}}(e);e.lutimes||function(e){r.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,n,o,i){e.open(t,r.O_SYMLINK,(function(t,r){t?i&&i(t):e.futimes(r,n,o,(function(t){e.close(r,(function(e){i&&i(t||e)}))}))}))},e.lutimesSync=function(t,n,o){var i,a=e.openSync(t,r.O_SYMLINK),s=!0;try{i=e.futimesSync(a,n,o),s=!1}finally{if(s)try{e.closeSync(a)}catch(e){}else e.closeSync(a)}return i}):(e.lutimes=function(e,t,n,r){r&&process.nextTick(r)},e.lutimesSync=function(){})}(e);e.chown=i(e.chown),e.fchown=i(e.fchown),e.lchown=i(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=s(e.chownSync),e.fchownSync=s(e.fchownSync),e.lchownSync=s(e.lchownSync),e.chmodSync=o(e.chmodSync),e.fchmodSync=o(e.fchmodSync),e.lchmodSync=o(e.lchmodSync),e.stat=c(e.stat),e.fstat=c(e.fstat),e.lstat=c(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){});e.lchown||(e.lchown=function(e,t,n,r){r&&process.nextTick(r)},e.lchownSync=function(){});"win32"===a&&(e.rename=(t=e.rename,function(n,r,o){var i=Date.now(),a=0;t(n,r,(function s(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-i<6e4)return setTimeout((function(){e.stat(r,(function(e,i){e&&"ENOENT"===e.code?t(n,r,s):o(c)}))}),a),void(a<100&&(a+=10));o&&o(c)}))}));var t;function n(t){return t?function(n,r,o){return t.call(e,n,r,(function(e){u(e)&&(e=null),o&&o.apply(this,arguments)}))}:t}function o(t){return t?function(n,r){try{return t.call(e,n,r)}catch(e){if(!u(e))throw e}}:t}function i(t){return t?function(n,r,o,i){return t.call(e,n,r,o,(function(e){u(e)&&(e=null),i&&i.apply(this,arguments)}))}:t}function s(t){return t?function(n,r,o){try{return t.call(e,n,r,o)}catch(e){if(!u(e))throw e}}:t}function c(t){return t?function(n,r,o){function i(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),o&&o.apply(this,arguments)}return"function"==typeof r&&(o=r,r=null),r?t.call(e,n,r,i):t.call(e,n,i)}:t}function l(t){return t?function(n,r){var o=r?t.call(e,n,r):t.call(e,n);return o.uid<0&&(o.uid+=4294967296),o.gid<0&&(o.gid+=4294967296),o}:t}function u(e){return!e||("ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code))}e.read=function(t){function n(n,r,o,i,a,s){var c;if(s&&"function"==typeof s){var l=0;c=function(u,f,d){if(u&&"EAGAIN"===u.code&&l<10)return l++,t.call(e,n,r,o,i,a,c);s.apply(this,arguments)}}return t.call(e,n,r,o,i,a,c)}return n.__proto__=t,n}(e.read),e.readSync=(f=e.readSync,function(t,n,r,o,i){for(var a=0;;)try{return f.call(e,t,n,r,o,i)}catch(e){if("EAGAIN"===e.code&&a<10){a++;continue}throw e}});var f}},6813:(e,t,n)=>{let r;try{r=n(77)}catch(e){r=n(5747)}const o=n(2618),{stringify:i,stripBom:a}=n(6780);const s={readFile:o.fromPromise((async function(e,t={}){"string"==typeof t&&(t={encoding:t});const n=t.fs||r,i=!("throws"in t)||t.throws;let s,c=await o.fromCallback(n.readFile)(e,t);c=a(c);try{s=JSON.parse(c,t?t.reviver:null)}catch(t){if(i)throw t.message=`${e}: ${t.message}`,t;return null}return s})),readFileSync:function(e,t={}){"string"==typeof t&&(t={encoding:t});const n=t.fs||r,o=!("throws"in t)||t.throws;try{let r=n.readFileSync(e,t);return r=a(r),JSON.parse(r,t.reviver)}catch(t){if(o)throw t.message=`${e}: ${t.message}`,t;return null}},writeFile:o.fromPromise((async function(e,t,n={}){const a=n.fs||r,s=i(t,n);await o.fromCallback(a.writeFile)(e,s,n)})),writeFileSync:function(e,t,n={}){const o=n.fs||r,a=i(t,n);return o.writeFileSync(e,a,n)}};e.exports=s},6780:e=>{e.exports={stringify:function(e,{EOL:t="\n",finalEOL:n=!0,replacer:r=null,spaces:o}={}){const i=n?t:"";return JSON.stringify(e,r,o).replace(/\n/g,t)+i},stripBom:function(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}}},1890:(e,t,n)=>{var r=n(5622),o=n(5747),i=parseInt("0777",8);function a(e,t,n,s){"function"==typeof t?(n=t,t={}):t&&"object"==typeof t||(t={mode:t});var c=t.mode,l=t.fs||o;void 0===c&&(c=i&~process.umask()),s||(s=null);var u=n||function(){};e=r.resolve(e),l.mkdir(e,c,(function(n){if(!n)return u(null,s=s||e);if("ENOENT"===n.code)a(r.dirname(e),t,(function(n,r){n?u(n,r):a(e,t,u,r)}));else l.stat(e,(function(e,t){e||!t.isDirectory()?u(n,s):u(null,s)}))}))}e.exports=a.mkdirp=a.mkdirP=a,a.sync=function e(t,n,a){n&&"object"==typeof n||(n={mode:n});var s=n.mode,c=n.fs||o;void 0===s&&(s=i&~process.umask()),a||(a=null),t=r.resolve(t);try{c.mkdirSync(t,s),a=a||t}catch(o){if("ENOENT"===o.code)a=e(r.dirname(t),n,a),e(t,n,a);else{var l;try{l=c.statSync(t)}catch(e){throw o}if(!l.isDirectory())throw o}}return a}},9916:e=>{function t(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}function n(e){e.pending+=1;var t=!1;return function(o){if(t)throw new Error("callback called twice");if(t=!0,e.error=e.error||o,e.pending-=1,e.waiting.length>0&&e.pending<e.max)r(e,e.waiting.shift());else if(0===e.pending){var i=e.listeners;e.listeners=[],i.forEach(n)}};function n(t){t(e.error)}}function r(e,t){t(n(e))}e.exports=t,t.prototype.go=function(e){this.pending<this.max?r(this,e):this.waiting.push(e)},t.prototype.wait=function(e){0===this.pending?e(this.error):this.listeners.push(e)},t.prototype.hold=function(){return n(this)}},5666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),a=new I(r||[]);return i._invoke=function(e,t,n){var r=f;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return C()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=j(a,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=u(e,t,n);if("normal"===c.type){if(r=n.done?h:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function m(){}function v(){}function g(){}var b={};b[i]=function(){return this};var w=Object.getPrototypeOf,S=w&&w(w(O([])));S&&S!==n&&r.call(S,i)&&(b=S);var k=g.prototype=m.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,i,a,s){var c=u(e[o],e,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function j(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=u(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function O(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:C}}function C(){return{value:t,done:!0}}return v.prototype=k.constructor=g,g.constructor=v,v.displayName=c(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},_(E.prototype),E.prototype[a]=function(){return this},e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(k),c(k,s,"Generator"),k[i]=function(){return this},k.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},7766:(e,t,n)=>{var r=n(5747),o=n(8761),i=n(8913),a=n(2779),s=n(1669),c=n(8614).EventEmitter,l=n(2413).Transform,u=n(2413).PassThrough,f=n(2413).Writable;function d(e,t,n){"function"==typeof t&&(n=t,t=null),null==t&&(t={}),null==t.autoClose&&(t.autoClose=!1),null==t.lazyEntries&&(t.lazyEntries=!1),null==t.decodeStrings&&(t.decodeStrings=!0),null==t.validateEntrySizes&&(t.validateEntrySizes=!0),null==t.strictFileNames&&(t.strictFileNames=!1),null==n&&(n=P),r.fstat(e,(function(r,o){if(r)return n(r);p(i.createFromFd(e,{autoClose:!0}),o.size,t,n)}))}function p(e,t,n,r){"function"==typeof n&&(r=n,n=null),null==n&&(n={}),null==n.autoClose&&(n.autoClose=!0),null==n.lazyEntries&&(n.lazyEntries=!1),null==n.decodeStrings&&(n.decodeStrings=!0);var o=!!n.decodeStrings;if(null==n.validateEntrySizes&&(n.validateEntrySizes=!0),null==n.strictFileNames&&(n.strictFileNames=!1),null==r&&(r=P),"number"!=typeof t)throw new Error("expected totalSize parameter to be a number");if(t>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");e.ref();var i=Math.min(65557,t),a=E(i),s=t-a.length;w(e,a,0,i,s,(function(c){if(c)return r(c);for(var l=i-22;l>=0;l-=1)if(101010256===a.readUInt32LE(l)){var u=a.slice(l),f=u.readUInt16LE(4);if(0!==f)return r(new Error("multi-disk zip files are not supported: found disk number: "+f));var d=u.readUInt16LE(10),p=u.readUInt32LE(16),y=u.readUInt16LE(20),m=u.length-22;if(y!==m)return r(new Error("invalid comment length. expected: "+m+". found: "+y));var v=o?j(u,22,u.length,!1):u.slice(22);if(65535!==d&&4294967295!==p)return r(null,new h(e,p,t,d,v,n.autoClose,n.lazyEntries,o,n.validateEntrySizes,n.strictFileNames));var g=E(20),b=s+l-g.length;return void w(e,g,0,g.length,b,(function(i){if(i)return r(i);if(117853008!==g.readUInt32LE(0))return r(new Error("invalid zip64 end of central directory locator signature"));var a=x(g,8),s=E(56);w(e,s,0,s.length,a,(function(i){return i?r(i):101075792!==s.readUInt32LE(0)?r(new Error("invalid zip64 end of central directory record signature")):(d=x(s,32),p=x(s,48),r(null,new h(e,p,t,d,v,n.autoClose,n.lazyEntries,o,n.validateEntrySizes,n.strictFileNames)))}))}))}r(new Error("end of central directory record signature not found"))}))}function h(e,t,n,r,o,i,a,s,l,u){var f=this;c.call(f),f.reader=e,f.reader.on("error",(function(e){m(f,e)})),f.reader.once("close",(function(){f.emit("close")})),f.readEntryCursor=t,f.fileSize=n,f.entryCount=r,f.comment=o,f.entriesRead=0,f.autoClose=!!i,f.lazyEntries=!!a,f.decodeStrings=!!s,f.validateEntrySizes=!!l,f.strictFileNames=!!u,f.isOpen=!0,f.emittedError=!1,f.lazyEntries||f._readEntry()}function y(e,t){e.autoClose&&e.close(),m(e,t)}function m(e,t){e.emittedError||(e.emittedError=!0,e.emit("error",t))}function v(){}function g(e,t){return new Date(1980+(e>>9&127),(e>>5&15)-1,31&e,t>>11&31,t>>5&63,2*(31&t),0)}function b(e){return-1!==e.indexOf("\\")?"invalid characters in fileName: "+e:/^[a-zA-Z]:/.test(e)||/^\//.test(e)?"absolute path: "+e:-1!==e.split("/").indexOf("..")?"invalid relative path: "+e:null}function w(e,t,n,r,o,i){if(0===r)return setImmediate((function(){i(null,E(0))}));e.read(t,n,r,o,(function(e,t){return e?i(e):t<r?i(new Error("unexpected EOF")):void i()}))}function S(e){l.call(this),this.actualByteCount=0,this.expectedByteCount=e}function k(){c.call(this),this.refCount=0}function _(e){u.call(this),this.context=e,this.context.ref(),this.unreffedYet=!1}t.open=function(e,t,n){"function"==typeof t&&(n=t,t=null);null==t&&(t={});null==t.autoClose&&(t.autoClose=!0);null==t.lazyEntries&&(t.lazyEntries=!1);null==t.decodeStrings&&(t.decodeStrings=!0);null==t.validateEntrySizes&&(t.validateEntrySizes=!0);null==t.strictFileNames&&(t.strictFileNames=!1);null==n&&(n=P);r.open(e,"r",(function(e,o){if(e)return n(e);d(o,t,(function(e,t){e&&r.close(o,P),n(e,t)}))}))},t.fromFd=d,t.fromBuffer=function(e,t,n){"function"==typeof t&&(n=t,t=null);null==t&&(t={});t.autoClose=!1,null==t.lazyEntries&&(t.lazyEntries=!1);null==t.decodeStrings&&(t.decodeStrings=!0);null==t.validateEntrySizes&&(t.validateEntrySizes=!0);null==t.strictFileNames&&(t.strictFileNames=!1);p(i.createFromBuffer(e,{maxChunkSize:65536}),e.length,t,n)},t.fromRandomAccessReader=p,t.dosDateTimeToDate=g,t.validateFileName=b,t.ZipFile=h,t.Entry=v,t.RandomAccessReader=k,s.inherits(h,c),h.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())},h.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()},h.prototype._readEntry=function(){var e=this;if(e.entryCount!==e.entriesRead){if(!e.emittedError){var t=E(46);w(e.reader,t,0,t.length,e.readEntryCursor,(function(n){if(n)return y(e,n);if(!e.emittedError){var r=new v,o=t.readUInt32LE(0);if(33639248!==o)return y(e,new Error("invalid central directory file header signature: 0x"+o.toString(16)));if(r.versionMadeBy=t.readUInt16LE(4),r.versionNeededToExtract=t.readUInt16LE(6),r.generalPurposeBitFlag=t.readUInt16LE(8),r.compressionMethod=t.readUInt16LE(10),r.lastModFileTime=t.readUInt16LE(12),r.lastModFileDate=t.readUInt16LE(14),r.crc32=t.readUInt32LE(16),r.compressedSize=t.readUInt32LE(20),r.uncompressedSize=t.readUInt32LE(24),r.fileNameLength=t.readUInt16LE(28),r.extraFieldLength=t.readUInt16LE(30),r.fileCommentLength=t.readUInt16LE(32),r.internalFileAttributes=t.readUInt16LE(36),r.externalFileAttributes=t.readUInt32LE(38),r.relativeOffsetOfLocalHeader=t.readUInt32LE(42),64&r.generalPurposeBitFlag)return y(e,new Error("strong encryption is not supported"));e.readEntryCursor+=46,t=E(r.fileNameLength+r.extraFieldLength+r.fileCommentLength),w(e.reader,t,0,t.length,e.readEntryCursor,(function(n){if(n)return y(e,n);if(!e.emittedError){var o=0!=(2048&r.generalPurposeBitFlag);r.fileName=e.decodeStrings?j(t,0,r.fileNameLength,o):t.slice(0,r.fileNameLength);var i=r.fileNameLength+r.extraFieldLength,s=t.slice(r.fileNameLength,i);r.extraFields=[];for(var c=0;c<s.length-3;){var l=s.readUInt16LE(c+0),u=s.readUInt16LE(c+2),f=c+4,d=f+u;if(d>s.length)return y(e,new Error("extra field length exceeds extra field buffer size"));var p=E(u);s.copy(p,0,f,d),r.extraFields.push({id:l,data:p}),c=d}if(r.fileComment=e.decodeStrings?j(t,i,i+r.fileCommentLength,o):t.slice(i,i+r.fileCommentLength),r.comment=r.fileComment,e.readEntryCursor+=t.length,e.entriesRead+=1,4294967295===r.uncompressedSize||4294967295===r.compressedSize||4294967295===r.relativeOffsetOfLocalHeader){var h=null;for(c=0;c<r.extraFields.length;c++){if(1===(v=r.extraFields[c]).id){h=v.data;break}}if(null==h)return y(e,new Error("expected zip64 extended information extra field"));var m=0;if(4294967295===r.uncompressedSize){if(m+8>h.length)return y(e,new Error("zip64 extended information extra field does not include uncompressed size"));r.uncompressedSize=x(h,m),m+=8}if(4294967295===r.compressedSize){if(m+8>h.length)return y(e,new Error("zip64 extended information extra field does not include compressed size"));r.compressedSize=x(h,m),m+=8}if(4294967295===r.relativeOffsetOfLocalHeader){if(m+8>h.length)return y(e,new Error("zip64 extended information extra field does not include relative header offset"));r.relativeOffsetOfLocalHeader=x(h,m),m+=8}}if(e.decodeStrings)for(c=0;c<r.extraFields.length;c++){var v;if(28789===(v=r.extraFields[c]).id){if(v.data.length<6)continue;if(1!==v.data.readUInt8(0))continue;var g=v.data.readUInt32LE(1);if(a.unsigned(t.slice(0,r.fileNameLength))!==g)continue;r.fileName=j(v.data,5,v.data.length,!0);break}}if(e.validateEntrySizes&&0===r.compressionMethod){var w=r.uncompressedSize;if(r.isEncrypted()&&(w+=12),r.compressedSize!==w){var S="compressed/uncompressed size mismatch for stored file: "+r.compressedSize+" != "+r.uncompressedSize;return y(e,new Error(S))}}if(e.decodeStrings){e.strictFileNames||(r.fileName=r.fileName.replace(/\\/g,"/"));var k=b(r.fileName,e.validateFileNameOptions);if(null!=k)return y(e,new Error(k))}e.emit("entry",r),e.lazyEntries||e._readEntry()}}))}}))}}else setImmediate((function(){e.autoClose&&e.close(),e.emittedError||e.emit("end")}))},h.prototype.openReadStream=function(e,t,n){var r=this,i=0,a=e.compressedSize;if(null==n)n=t,t={};else{if(null!=t.decrypt){if(!e.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(!1!==t.decrypt)throw new Error("invalid options.decrypt value: "+t.decrypt);if(e.isCompressed()&&!1!==t.decompress)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(null!=t.decompress){if(!e.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!1!==t.decompress&&!0!==t.decompress)throw new Error("invalid options.decompress value: "+t.decompress)}if(null!=t.start||null!=t.end){if(e.isCompressed()&&!1!==t.decompress)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(e.isEncrypted()&&!1!==t.decrypt)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(null!=t.start){if((i=t.start)<0)throw new Error("options.start < 0");if(i>e.compressedSize)throw new Error("options.start > entry.compressedSize")}if(null!=t.end){if((a=t.end)<0)throw new Error("options.end < 0");if(a>e.compressedSize)throw new Error("options.end > entry.compressedSize");if(a<i)throw new Error("options.end < options.start")}}if(!r.isOpen)return n(new Error("closed"));if(e.isEncrypted()&&!1!==t.decrypt)return n(new Error("entry is encrypted, and options.decrypt !== false"));r.reader.ref();var s=E(30);w(r.reader,s,0,s.length,e.relativeOffsetOfLocalHeader,(function(c){try{if(c)return n(c);var l=s.readUInt32LE(0);if(67324752!==l)return n(new Error("invalid local file header signature: 0x"+l.toString(16)));var u,f=s.readUInt16LE(26),d=s.readUInt16LE(28),p=e.relativeOffsetOfLocalHeader+s.length+f+d;if(0===e.compressionMethod)u=!1;else{if(8!==e.compressionMethod)return n(new Error("unsupported compression method: "+e.compressionMethod));u=null==t.decompress||t.decompress}var h=p,y=h+e.compressedSize;if(0!==e.compressedSize&&y>r.fileSize)return n(new Error("file data overflows file bounds: "+h+" + "+e.compressedSize+" > "+r.fileSize));var m=r.reader.createReadStream({start:h+i,end:h+a}),v=m;if(u){var g=!1,b=o.createInflateRaw();m.on("error",(function(e){setImmediate((function(){g||b.emit("error",e)}))})),m.pipe(b),r.validateEntrySizes?(v=new S(e.uncompressedSize),b.on("error",(function(e){setImmediate((function(){g||v.emit("error",e)}))})),b.pipe(v)):v=b,v.destroy=function(){g=!0,b!==v&&b.unpipe(v),m.unpipe(b),m.destroy()}}n(null,v)}finally{r.reader.unref()}}))},v.prototype.getLastModDate=function(){return g(this.lastModFileDate,this.lastModFileTime)},v.prototype.isEncrypted=function(){return 0!=(1&this.generalPurposeBitFlag)},v.prototype.isCompressed=function(){return 8===this.compressionMethod},s.inherits(S,l),S.prototype._transform=function(e,t,n){if(this.actualByteCount+=e.length,this.actualByteCount>this.expectedByteCount){var r="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return n(new Error(r))}n(null,e)},S.prototype._flush=function(e){if(this.actualByteCount<this.expectedByteCount){var t="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return e(new Error(t))}e()},s.inherits(k,c),k.prototype.ref=function(){this.refCount+=1},k.prototype.unref=function(){var e=this;if(e.refCount-=1,!(e.refCount>0)){if(e.refCount<0)throw new Error("invalid unref");e.close((function(t){if(t)return e.emit("error",t);e.emit("close")}))}},k.prototype.createReadStream=function(e){var t=e.start,n=e.end;if(t===n){var r=new u;return setImmediate((function(){r.end()})),r}var o=this._readStreamForRange(t,n),i=!1,a=new _(this);o.on("error",(function(e){setImmediate((function(){i||a.emit("error",e)}))})),a.destroy=function(){o.unpipe(a),a.unref(),o.destroy()};var s=new S(n-t);return a.on("error",(function(e){setImmediate((function(){i||s.emit("error",e)}))})),s.destroy=function(){i=!0,a.unpipe(s),a.destroy()},o.pipe(a).pipe(s)},k.prototype._readStreamForRange=function(e,t){throw new Error("not implemented")},k.prototype.read=function(e,t,n,r,o){var i=this.createReadStream({start:r,end:r+n}),a=new f,s=0;a._write=function(n,r,o){n.copy(e,t+s,0,n.length),s+=n.length,o()},a.on("finish",o),i.on("error",(function(e){o(e)})),i.pipe(a)},k.prototype.close=function(e){setImmediate(e)},s.inherits(_,u),_.prototype._flush=function(e){this.unref(),e()},_.prototype.unref=function(e){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var E;function j(e,t,n,r){if(r)return e.toString("utf8",t,n);for(var o="",i=t;i<n;i++)o+="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "[e[i]];return o}function x(e,t){var n=e.readUInt32LE(t);return 4294967296*e.readUInt32LE(t+4)+n}function P(e){if(e)throw e}E="function"==typeof Buffer.allocUnsafe?function(e){return Buffer.allocUnsafe(e)}:function(e){return new Buffer(e)}},2357:e=>{"use strict";e.exports=require("assert")},4293:e=>{"use strict";e.exports=require("buffer")},3129:e=>{"use strict";e.exports=require("child_process")},7619:e=>{"use strict";e.exports=require("constants")},8933:e=>{"use strict";e.exports=require("electron")},8614:e=>{"use strict";e.exports=require("events")},5747:e=>{"use strict";e.exports=require("fs")},8605:e=>{"use strict";e.exports=require("http")},2087:e=>{"use strict";e.exports=require("os")},5622:e=>{"use strict";e.exports=require("path")},1765:e=>{"use strict";e.exports=require("process")},2413:e=>{"use strict";e.exports=require("stream")},8835:e=>{"use strict";e.exports=require("url")},1669:e=>{"use strict";e.exports=require("util")},8761:e=>{"use strict";e.exports=require("zlib")}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{"use strict";r.r(o);r(5666);var e=r(7182),t=r(1802),n=r.n(t),i="1.6.0",a=!1,s=r(8933).shell,c=r(8835),l=function(e){var t=c.parse(e).protocol;return("http:"===t||"https:"===t)&&(s.openExternal(e),!0)};$(document).ready((function(){document.title="".concat(document.title," (").concat(i).concat(a?" Beta":"",")");document.querySelectorAll('link[rel="import"]');$("webview").each((function(e,t){t.addEventListener("did-finish-load",(function(t){console.log(e,t)})),t.addEventListener("will-navigate",(function(e){l(e.url)&&t.stop()}))})),e.select_tab("cocos"),$("button").on("click",(function(e){e.target.blur()})),new(n()),$("#tabbar").hide(),$("#contents").css("top","77px")})),$(document).on("click",'a[href^="http"]',(function(e){l(e.target.href)&&e.preventDefault()}))})(),o})()}));